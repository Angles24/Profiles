<?xml version="1.0" encoding="UTF-8"?>
<!--
Profile:  [Orderbot] Shadowbringers Main Scenario
Authors:  Sodimm

Added:	Chocobo quest and opening of Coffers
-->
<Profile>
  <Name>[OrderBot] Shadowbringers Main Scenario</Name>
  <BehaviorDirectory>..\Quest Behaviors</BehaviorDirectory>
  <Order>
    <RunCode Name="Disable_Flight"/>
    <!--<If Condition="not Core.Me.ClassLevel &gt; 79">
      <BotSettings AutoEquip="1"/>
    </If>-->
    <RunCode Name="Profile"/>
	 <!-- My Feisty Little Chocobo (Level 30) -->
    <If Condition="not HasQuest(66698) and not IsQuestCompleted(66698)">
      <GetTo ZoneId="153" XYZ="-219.2264, 20.92336, 338.4298"/>
      <If Condition="IsQuestAcceptQualified(66698)">
        <PickupQuest NpcId="1002754" QuestId="66698" XYZ="-219.2264, 20.92336, 338.4298"/>
      </If>
    </If>
    <If Condition="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 1">
      <GetTo ZoneId="148" XYZ="-60.47156, 0.2, 6.301941"/>
      <TalkTo NpcId="1000471" XYZ="-60.47156, 0.2, 6.301941" QuestId="66698" StepId="1"/>
    </If>
    <If Condition="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 2">
      <GetTo ZoneId="148" XYZ="-54.73419, 1.449585, -36.698"/>
      <UseObject NpcId="2001467" XYZ="-54.73419, 1.449585, -36.698" QuestId="66698" StepId="2"/>
    </If>
    <If Condition="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 3">
      <GetTo ZoneId="148" XYZ="-60.47156, 0.2, 6.301941"/>
      <HandOver ItemId="2000085" QuestId="66698" StepId="3" NpcId="1000471" XYZ="-60.47156, 0.2, 6.301941"/>
    </If>
    <If Condition="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 4">
      <If Condition="not HasAtLeast(4868, 2)">
        <GetTo ZoneId="148" XYZ="16.18976, -8.010208, -15.64056"/>
        <BuyItem ItemIds="4868" ItemCounts="98" DialogOption="4" NpcId="1000220" XYZ="16.18976, -8.010208, -15.64056"/>
      </If>
      <GetTo ZoneId="148" XYZ="-239.3125, 57.47225, -93.26726"/>
      <RunCode Name="Summon_Chocobo"/>
      <Grind GrindRef="Brood_Ziz" PostCombatDelay="3.0" While="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 4"/>
    </If>
    <If Condition="HasQuest(66698) and not IsQuestCompleted(66698) and GetQuestStep(66698) == 255">
      <GetTo ZoneId="148" XYZ="-60.47156, 0.2, 6.301941"/>
      <TurnIn QuestId="66698" NpcId="1000471" XYZ="-60.47156, 0.2, 6.301941"/>
    </If>
    <!-- (Patch 5.0) The Syrcus Trench (Level 70) -->
    <If Condition="IsQuestCompleted(68721) and not HasQuest(68815) and not IsQuestCompleted(68815)">
      <If Condition="not IsOnMap(351)">
        <GetTo ZoneId="156" XYZ="21.79132, 21.25273, -632.7344"/>
        <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68815)">
        <PickupQuest QuestId="68815" NpcId="1026990" XYZ="-2.426208, 7.450581E-09, -9.10968"/>
      </If>
    </If>
    <If Condition="HasQuest(68815) and not IsQuestCompleted(68815) and GetQuestStep(68815) == 1">
      <If Condition="not IsOnMap(156)">
        <If Condition="IsOnMap(351)">
          <UseTransport InteractDistance="3.0" NpcId="2002879" XYZ="-0.01531982, 2.975464, 27.48145"/>
        </If>
        <GetTo ZoneId="156" XYZ="351.4656, -25.9659, -373.1818"/>
      </If>
      <SoTalkTo NpcId="1029791" XYZ="351.4916, -26.42413, -370.8095" QuestId="68815" StepId="1"/>
      <WaitWhile Condition="not IsOnMap(842)"/>
    </If>
    <If Condition="HasQuest(68815) and not IsQuestCompleted(68815) and GetQuestStep(68815) == 2">
      <If Condition="not IsOnMap(842)">
        <GetTo ZoneId="156" XYZ="351.4656, -25.9659, -373.1818"/>
        <UseTransport InteractDistance="3.0" NpcId="1029791" XYZ="351.4916, -26.42413, -370.8095"/>
      </If>
      <TalkTo NpcId="1029792" XYZ="-47.07416, 1.720142, 45.97534" QuestId="68815" StepId="2"/>
      <WaitWhile Condition="HasQuest(68815) and not IsQuestCompleted(68815) and not GetQuestStep(68815) == 4"/>
    </If>
    <If Condition="HasQuest(68815) and not IsQuestCompleted(68815) and GetQuestStep(68815) == 4">
      <GetTo ZoneId="813" XYZ="485.4872, 8.898799, 315.3618"/>
      <RunCode Name="68815"/>
      <WaitWhile Condition="HasQuest(68815) and not IsQuestCompleted(68815) and not GetQuestStep(68815) == 255"/>
    </If>
    <If Condition="HasQuest(68815) and not IsQuestCompleted(68815) and GetQuestStep(68815) == 255">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-179.9048, 0, -0.1709962"/>
      </If>
      <TurnIn QuestId="68815" NpcId="1028924" XYZ="-176.5622, 0, 1.632629"/>
    </If>
    <!-- City of the First (Level 70) -->
    <If Condition="IsQuestCompleted(68815) and not HasQuest(68816) and not IsQuestCompleted(68816)">
      <!-- GetTo tries to attune, but can't until this quest is picked up -->
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-179.9048, 0, -0.1709962"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68816)">
        <PickupQuest QuestId="68816" NpcId="1028924" XYZ="-177.062, 0, 0.4838639"/>
      </If>
    </If>
    <If Condition="HasQuest(68816) and not IsQuestCompleted(68816) and GetQuestStep(68816) == 1">
      <GetTo ZoneId="819" XYZ="-56.97851, -7.482, 117.2468"/>
    </If>
    <If Condition="HasQuest(68816) and not IsQuestCompleted(68816) and GetQuestStep(68816) == 2 and not IsTodoChecked(68816, 2, 2)">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-56.97851, -7.482, 117.2468"/>
      </If>
      <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="68816"/>
    </If>
    <If Condition="HasQuest(68816) and not IsQuestCompleted(68816) and GetQuestStep(68816) == 2 and not IsTodoChecked(68816, 2, 0)">
      <GetTo ZoneId="819" XYZ="-11.42926, 20.1973, -138.1792"/>
      <TalkTo NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225" QuestId="68816"/>
    </If>
    <If Condition="HasQuest(68816) and not IsQuestCompleted(68816) and GetQuestStep(68816) == 2 and not IsTodoChecked(68816, 2, 1)">
      <GetTo ZoneId="819" XYZ="-60.48879, -17.72201, -267.0891"/>
      <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68816"/>
    </If>
    <If Condition="HasQuest(68816) and not IsQuestCompleted(68816) and GetQuestStep(68816) == 255">
      <GetTo ZoneId="819" XYZ="60.15817, -2.384186E-07, -0.7547969"/>
      <TurnIn ItemIds="2002527,2002528,2002529" QuestId="68816" NpcId="1028925" XYZ="60.10522, -3.054738E-07, 1.602173"/>
    </If>
    <!-- Travelers of Norvrandt (Level 70) -->
    <If Condition="IsQuestCompleted(68816) and not HasQuest(68817) and not IsQuestCompleted(68817)">
      <GetTo ZoneId="819" XYZ="59.81999, -3.576279E-07, -2.643088"/>
      <If Condition="IsQuestAcceptQualified(68817)">
        <PickupQuest QuestId="68817" NpcId="1028925" XYZ="60.10522, -3.054738E-07, 1.602173"/>
      </If>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 1">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="116.1988, 14.64907, 6.497765"/>
      </If>
      <SoTalkTo NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433" QuestId="68817" StepId="1"/>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="61.97839, -3.576279E-07, 1.927156"/>
      </If>
      <TalkTo NpcId="1028925" XYZ="60.10522, -3.054738E-07, 1.602173" QuestId="68817" StepId="2"/>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 3">
      <GetTo ZoneId="819" XYZ="-4.879433, -7.700001, 140.0808"/>
      <TalkTo NpcId="1028926" XYZ="-4.104736, -7.700001, 138.4756" QuestId="68817" StepId="3"/>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 4">
      <GetTo ZoneId="819" XYZ="62.20612, 1.716012, 247.7134"/>
      <TalkTo NpcId="1028927" XYZ="62.54675, 1.716012, 249.1339" QuestId="68817" StepId="4"/>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 5">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="61.35682, 1.7078, 245.9173"/>
      </If>
      <SoTalkTo NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749" QuestId="68817" StepId="5"/>
    </If>
    <If Condition="HasQuest(68817) and not IsQuestCompleted(68817) and GetQuestStep(68817) == 255">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TurnIn QuestId="68817" NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344"/>
    </If>
    <!-- In Search of Alphinaud  (Level 70) -->
    <If Condition="IsQuestCompleted(68817) and not HasQuest(68818) and not IsQuestCompleted(68818)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68818)">
        <PickupQuest QuestId="68818" NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344"/>
      </If>
    </If>
    <If Condition="HasQuest(68818) and not IsQuestCompleted(68818) and GetQuestStep(68818) == 1">
      <If Condition="not IsOnMap(819)">
        <If Condition="IsOnMap(844)">
          <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
        </If>
        <GetTo ZoneId="819" XYZ="-134.9943, 0, -72.85202"/>
      </If>
      <SoHandOver ItemId="2002699" NpcId="1027246" XYZ="-136.9802, 0, -73.77747" QuestId="68818" StepId="1"/>
    </If>
    <If Condition="HasQuest(68818) and not IsQuestCompleted(68818) and GetQuestStep(68818) == 2">
      <GetTo ZoneId="819" XYZ="59.19823, 36.19769, -167.9228"/>
      <TalkTo NpcId="1029806" XYZ="62.39417, 36.24769, -169.3904" QuestId="68818" StepId="2"/>
      <WaitWhile Condition="HasQuest(68818) and not IsQuestCompleted(68818) and not GetQuestStep(68818) == 255"/>
    </If>
    <If Condition="HasQuest(68818) and not IsQuestCompleted(68818) and GetQuestStep(68818) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="819" XYZ="59.19823, 36.19769, -167.9228"/>
        <UseTransport InteractDistance="3.0" NpcId="1029806" XYZ="62.39417, 36.24769, -169.3904"/>
      </If>
      <TurnIn QuestId="68818" NpcId="1029807" XYZ="802.2124, 1.272592, 253.0098"/>
    </If>
    <!-- A Still Tide (Level 70) -->
    <If Condition="IsQuestCompleted(68818) and not HasQuest(68819) and not IsQuestCompleted(68819)">
      <!-- GetTo will override the pick up trying to attune to Stilltide Aetheryte -->
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="801.1243, 1.359339, 251.2912"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68819)">
        <PickupQuest QuestId="68819" NpcId="1029807" XYZ="802.2124, 1.272592, 253.0098"/>
      </If>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 1">
      <GetTo ZoneId="814" XYZ="628.3319, 3.188651, 471.8779"/>
      <HandOver ItemId="2002574" NpcId="1027286" XYZ="626.1234, 3.237296, 471.9767" QuestId="68819" StepId="1"/>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 2">
      <GetTo ZoneId="814" XYZ="687.3956, 30.11648, 277.8613"/>
      <SoTalkTo NpcId="2009956" XYZ="687.9225, 30.07544, 279.4078" QuestId="68819" StepId="2"/>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 3">
      <GetTo ZoneId="814" XYZ="665.1811, 53.04622, 58.60866"/>
      <UseObject NpcIds="2009958,2009957" QuestId="68819" StepId="3">
        <HotSpots>
          <HotSpot XYZ="694.026, 53.75745, 12.92438" Radius="10"/>
          <HotSpot XYZ="663.1724, 53.6355, 60.28833" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 4">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
      </If>
      <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="4"/>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 5">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
      </If>
      <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="5"/>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 6">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="702.6889, 52.69128, 53.66412"/>
      </If>
      <UseObject NpcId="2009959" XYZ="703.5171, 53.75745, 52.14001" QuestId="68819" StepId="6"/>
    </If>
    <If Condition="HasQuest(68819) and not IsQuestCompleted(68819) and GetQuestStep(68819) == 255">
      <GetTo ZoneId="814" XYZ="688.751, 30.11697, 279.3452"/>
      <TurnIn QuestId="68819" NpcId="1027313" XYZ="691.0658, 30.11709, 279.6216"/>
    </If>
    <!-- Open Arms, Closed Gate (Level 70) -->
    <If Condition="IsQuestCompleted(68819) and not HasQuest(68820) and not IsQuestCompleted(68820)">
      <GetTo ZoneId="814" XYZ="687.8132, 30.11839, 283.7206"/>
      <If Condition="IsQuestAcceptQualified(68820)">
        <PickupQuest QuestId="68820" NpcId="1029809" XYZ="687.1289, 30.11806, 282.7344"/>
      </If>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 1">
      <GetTo ZoneId="814" XYZ="380.2298, 6.7682, 305.9789"/>
      <TalkTo NpcId="1029810" XYZ="377.2488, 6.816298, 306.569" QuestId="68820" StepId="1"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 2">
      <GetTo ZoneId="814" XYZ="341.7562, 31.93621, 202.0142"/>
      <WaitWhile Condition="HasQuest(68820) and not IsQuestCompleted(68820) and not GetQuestStep(68820) == 4"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 4">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="341.7562, 31.93621, 202.0142"/>
      </If>
      <UseObject NpcId="1029811" XYZ="341.7562, 31.93621, 202.0142" QuestId="68820" StepId="4"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 5">
      <GetTo ZoneId="814" XYZ="168.6032, 40.09513, 565.9061"/>
      <UseObject NpcId="2009961" XYZ="168.3833, 40.11597, 567.1931" QuestId="68820" StepId="5"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 6">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="167.4992, 40.99535, 676.1387"/>
      </If>
      <TalkTo NpcId="1029814" XYZ="165.7892, 41.1413, 676.9663" QuestId="68820" StepId="6"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 7 and GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 0">
      <GetTo ZoneId="814" XYZ="182.8771, 40.04025, 593.6647"/>
      <TalkTo NpcId="1029815" XYZ="184.4052, 40.03957, 592.0653" QuestId="68820"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 7 and GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 1">
      <GetTo ZoneId="814" XYZ="173.647, 48.75117, 771.6766"/>
      <TalkTo NpcId="2009962" XYZ="175.7382, 50.00378, 771.4807" QuestId="68820"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 7 and GetQuestById(68820).GetTodoArgs(7, 0).Item1 == 2">
      <GetTo ZoneId="814" XYZ="113.7296, 54.89982, 832.5688"/>
      <TalkTo NpcId="1029816" XYZ="112.6573, 54.87324, 833.4934" QuestId="68820"/>
    </If>
    <If Condition="HasQuest(68820) and not IsQuestCompleted(68820) and GetQuestStep(68820) == 255">
      <GetTo ZoneId="814" XYZ="166.6985, 41.19752, 678.8423"/>
      <TurnIn QuestId="68820" NpcId="1029814" XYZ="165.7892, 41.1413, 676.9663"/>
    </If>
    <!-- A Fickle Existence (Level 70) -->
    <If Condition="IsQuestCompleted(68820) and not HasQuest(68821) and not IsQuestCompleted(68821)">
      <GetTo ZoneId="814" XYZ="166.6985, 41.19752, 678.8423"/>
      <If Condition="IsQuestAcceptQualified(68821)">
        <PickupQuest QuestId="68821" NpcId="1029814" XYZ="165.7892, 41.1413, 676.9663"/>
      </If>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 1">
      <GetTo ZoneId="814" XYZ="-264.8897, 21.74692, 378.0688"/>
      <TalkTo NpcId="1027516" XYZ="-266.0716, 21.74689, 376.7909" QuestId="68821" StepId="1"/>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 2">
      <GetTo ZoneId="814" XYZ="-276.7405, 18.08076, 654.7615"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 3">
      <GetTo ZoneId="814" XYZ="-321.9621, 21.21397, 776.0409"/>
      <TalkTo NpcId="1029818" XYZ="-322.4689, 21.33508, 777.4623" QuestId="68821" StepId="3"/>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 4">
      <GetTo ZoneId="814" XYZ="-635.1391, 0.2253729, 571.1387"/>
      <UseObject NpcId="1029819" XYZ="-635.6756, 0.2294028, 571.313" QuestId="68821" StepId="4"/>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 5">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-636.9386, 0.2963214, 571.0192"/>
      </If>
      <TalkTo NpcId="1029844" XYZ="-638.1171, 0.295629, 571.5265" QuestId="68821" StepId="5"/>
    </If>
    <If Condition="HasQuest(68821) and not IsQuestCompleted(68821) and GetQuestStep(68821) == 255">
      <GetTo ZoneId="814" XYZ="-331.9401, 18.78622, 387.774"/>
      <TurnIn QuestId="68821" NpcId="1029823" XYZ="-330.4036, 19.08178, 389.2728"/>
    </If>
    <!-- City of Final Pleasures (Level 70) -->
    <If Condition="IsQuestCompleted(68821) and not HasQuest(68822) and not IsQuestCompleted(68822)">
      <GetTo ZoneId="814" XYZ="-329.462, 19.06647, 388.3667"/>
      <If Condition="IsQuestAcceptQualified(68822)">
        <PickupQuest QuestId="68822" NpcId="1029822" XYZ="-328.6031, 19.31789, 390.0052"/>
      </If>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 1">
      <GetTo ZoneId="814" XYZ="169.0071, 40.85555, 675.0887"/>
      <UseObject NpcId="2009964" XYZ="168.9631, 41.00085, 677.3021" QuestId="68822" StepId="1"/>
      <WaitWhile Condition="HasQuest(68822) and not IsQuestCompleted(68822) and not GetQuestStep(68822) == 3"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 3">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="0.5643953, -5.095907, -105.8384"/>
      </If>
      <TalkTo NpcId="1029824" XYZ="0.6866455, -5.095142, -104.1124" QuestId="68822" StepId="3"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 4">
      <GetTo ZoneId="820" XYZ="15.49681, 6, -0.2133523"/>
      <TalkTo NpcId="1027524" XYZ="17.41052, 6, -0.1679077" QuestId="68822" StepId="4"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 5">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="15.25734, 6.04, 16.91294"/>
      </If>
      <HandOver ItemId="2002700" NpcId="1027526" XYZ="17.41052, 6, 16.98328" QuestId="68822" StepId="5"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 6">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="17.65155, 6.074485, 38.17981"/>
      </If>
      <UseObject NpcId="2009967" XYZ="18.20398, 7.522644, 38.22375" QuestId="68822" StepId="6"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 7">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="12.98615, 5.999998, 33.60206"/>
      </If>
      <!-- Quite a large wait for loading here -->
      <WaitTimer Time="10000"/>
      <RunCode Name="68822"/>
      <WaitWhile Condition="HasQuest(68822) and not IsQuestCompleted(68822) and not GetQuestStep(68822) == 8"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 8">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="3.999589, 6, 31.87931"/>
      </If>
      <SoTalkTo NpcId="1029827" DialogOption="2" XYZ="4.104675, 6, 29.77026" QuestId="68822" StepId="8"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 9">
      <GetTo ZoneId="820" XYZ="10.04033, 5.999996, -36.92207"/>
      <TalkTo NpcId="1029990" XYZ="11.36792, 5.999995, -38.65112" QuestId="68822" StepId="9"/>
    </If>
    <If Condition="HasQuest(68822) and not IsQuestCompleted(68822) and GetQuestStep(68822) == 255">
      <GetTo ZoneId="820" XYZ="27.35651, 82.78207, 25.21528"/>
      <TurnIn QuestId="68822" NpcId="1029830" XYZ="28.39697, 82.78207, 26.5354"/>
    </If>
    <!-- Free to Sightsee (Level 70) -->
    <If Condition="IsQuestCompleted(68822) and not HasQuest(68823) and not IsQuestCompleted(68823)">
      <GetTo ZoneId="820" XYZ="27.35651, 82.78207, 25.21528"/>
      <If Condition="IsQuestAcceptQualified(68823)">
        <PickupQuest QuestId="68823" NpcId="1029832" XYZ="28.7937, 82.78207, 24.91797"/>
      </If>
    </If>
    <If Condition="HasQuest(68823) and not IsQuestCompleted(68823) and GetQuestStep(68823) == 1">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-23.45565, 82.27261, -18.27195"/>
      </If>
      <TalkTo NpcId="1029833" XYZ="-24.88751, 82.27261, -19.05853" QuestId="68823" StepId="1"/>
    </If>
    <If Condition="HasQuest(68823) and not IsQuestCompleted(68823) and GetQuestStep(68823) == 2">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-17.57893, 82.83509, -50.6413"/>
      </If>
      <UseObject NpcId="1029834" XYZ="-18.35669, 82.59705, -52.99463" QuestId="68823" StepId="2"/>
    </If>
    <If Condition="HasQuest(68823) and not IsQuestCompleted(68823) and GetQuestStep(68823) == 255">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-23.07323, 82.27261, -18.69258"/>
      </If>
      <SoTurnIn QuestId="68823" NpcId="1029833" XYZ="-24.88751, 82.27261, -19.05853"/>
    </If>
    <!-- A Taste of Honey (Level 70) -->
    <If Condition="IsQuestCompleted(68823) and not HasQuest(68824) and not IsQuestCompleted(68824)">
      <GetTo ZoneId="820" XYZ="-23.07323, 82.27261, -18.69258"/>
      <If Condition="IsQuestAcceptQualified(68824)">
        <PickupQuest QuestId="68824" NpcId="1029833" XYZ="-24.88751, 82.27261, -19.05853"/>
      </If>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 1">
      <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
      <TalkTo NpcId="1027575" XYZ="59.12866, 83.00105, -70.08472" QuestId="68824" StepId="1"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 2">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 3">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="57.75255, 83.00106, -70.54283"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 4">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="53.06142, 82.00166, -51.60699"/>
      </If>
      <TalkTo NpcId="1027574" XYZ="54.15417, 82.00166, -50.88885" QuestId="68824" StepId="4"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 5">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="61.4703, 86.7, -40.24728"/>
      </If>
      <MoveTo XYZ="61.4703, 86.7, -40.24728" Distance="1"/>
      <RunCode Name="68824"/>
      <WaitWhile Condition="HasQuest(68824) and not IsQuestCompleted(68824) and not GetQuestStep(68824) == 6"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 6">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="53.06038, 82.00166, -51.70069"/>
      </If>
      <TalkTo NpcId="1027574" XYZ="54.15417, 82.00166, -50.88885" QuestId="68824" StepId="6"/>
    </If>
    <If Condition="HasQuest(68824) and not IsQuestCompleted(68824) and GetQuestStep(68824) == 255">
      <GetTo ZoneId="820" XYZ="28.69083, 82.78207, 27.77393"/>
      <TurnIn QuestId="68824" NpcId="1029830" XYZ="28.39697, 82.78207, 26.5354"/>
    </If>
    <!-- A Blessed Instrument (Level 70) -->
    <If Condition="IsQuestCompleted(68824) and not HasQuest(68825) and not IsQuestCompleted(68825)">
      <GetTo ZoneId="820" XYZ="26.42796, 82.78213, 24.73348"/>
      <If Condition="IsQuestAcceptQualified(68825)">
        <PickupQuest QuestId="68825" NpcId="1029837" XYZ="26.81006, 82.78224, 23.81927"/>
      </If>
    </If>
    <If Condition="HasQuest(68825) and not IsQuestCompleted(68825) and GetQuestStep(68825) == 1">
      <GetTo ZoneId="820" XYZ="-18.03637, 23.1, -7.88581"/>
      <TalkTo NpcId="1029838" XYZ="-18.38715, 23.1, -8.712891" QuestId="68825" StepId="1"/>
    </If>
    <If Condition="HasQuest(68825) and not IsQuestCompleted(68825) and GetQuestStep(68825) == 2">
      <GetTo ZoneId="820" XYZ="-51.14841, -0.1237506, 60.34523"/>
      <HandOver ItemIds="2002576,2002577" NpcId="1027588" XYZ="-50.24799, -0.1006831, 61.32605" QuestId="68825" StepId="2"/>
    </If>
    <If Condition="HasQuest(68825) and not IsQuestCompleted(68825) and GetQuestStep(68825) == 3">
      <GetTo ZoneId="820" XYZ="-17.95208, 23.1, -7.494116"/>
      <TalkTo NpcId="1029838" XYZ="-18.38715, 23.1, -8.712891" QuestId="68825" StepId="3"/>
    </If>
    <If Condition="HasQuest(68825) and not IsQuestCompleted(68825) and GetQuestStep(68825) == 255">
      <GetTo ZoneId="820" XYZ="26.3966, 82.78236, 22.74135"/>
      <TurnIn QuestId="68825" NpcId="1028990" XYZ="26.81006, 82.78224, 23.81927"/>
    </If>
    <!-- Emergent Splendor (Level 70) -->
    <If Condition="IsQuestCompleted(68825) and not HasQuest(68826) and not IsQuestCompleted(68826)">
      <GetTo ZoneId="820" XYZ="26.3966, 82.78236, 22.74135"/>
      <If Condition="IsQuestAcceptQualified(68826)">
        <PickupQuest QuestId="68826" NpcId="1028990" XYZ="26.81006, 82.78224, 23.81927"/>
      </If>
    </If>
    <If Condition="HasQuest(68826) and not IsQuestCompleted(68826) and GetQuestStep(68826) == 1">
      <GetTo ZoneId="820" XYZ="2.055121, 82.83, 56.12632"/>
      <SoTalkTo NpcId="1027549" XYZ="2.029419, 83.19524, 57.84692" QuestId="68826" StepId="1"/>
    </If>
    <If Condition="HasQuest(68826) and not IsQuestCompleted(68826) and GetQuestStep(68826) == 2">
      <GetTo ZoneId="820" XYZ="5.049777, -5.108024, -105.4728"/>
      <TalkTo NpcId="1029839" XYZ="5.722107, -5.1046, -106.1265" QuestId="68826" StepId="2"/>
    </If>
    <If Condition="HasQuest(68826) and not IsQuestCompleted(68826) and GetQuestStep(68826) == 3">
      <GetTo ZoneId="814" XYZ="798.4583, 1.615535, 256.8571"/>
      <TalkTo NpcId="1029841" XYZ="800.0458, 1.417488, 255.9701" QuestId="68826" StepId="3"/>
    </If>
    <If Condition="HasQuest(68826) and not IsQuestCompleted(68826) and GetQuestStep(68826) == 255">
      <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
      <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      <TurnIn QuestId="68826" NpcId="1029842" XYZ="-2.02948, -1.490116E-08, -4.196289"/>
    </If>
    <!-- In Search of Alisaie (Level 70) -->
    <If Condition="IsQuestCompleted(68826) and not HasQuest(68827) and not IsQuestCompleted(68827)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68827)">
        <PickupQuest QuestId="68827" NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344"/>
      </If>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 1">
      <If Condition="not IsOnMap(819)">
        <If Condition="IsOnMap(844)">
          <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.01531982, 1.022339, 14.20605"/>
        </If>
        <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
      </If>
      <HandOver ItemId="2002542" NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="68827" StepId="1"/>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
      </If>
      <TalkTo NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="68827" StepId="2"/>
      <WaitWhile Condition="HasQuest(68827) and not IsQuestCompleted(68827) and not GetQuestStep(68827) == 4"/>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="819" XYZ="41.96519, 36.19769, -159.4053"/>
        <UseTransport InteractDistance="3.0" NpcId="1027854" XYZ="40.57373, 36.19769, -160.235"/>
      </If>
      <TalkTo NpcId="1028961" XYZ="662.5009, -48.53376, -652.8573" QuestId="68827" StepId="4"/>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 5">
      <GetTo ZoneId="815" XYZ="480.4147, -50.82322, -508.9553"/>
      <TalkTo NpcId="1028962" XYZ="477.7142, -50.54957, -509.8802" QuestId="68827" StepId="5"/>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 6">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="482.963, -51.49775, -510.8831"/>
      </If>
      <UseObject NpcId="2009842" XYZ="484.2754, -51.95703, -512.5048" QuestId="68827" StepId="6"/>
    </If>
    <If Condition="HasQuest(68827) and not IsQuestCompleted(68827) and GetQuestStep(68827) == 255">
      <GetTo ZoneId="815" XYZ="329.1751, 1.422134, -297.3137"/>
      <TurnIn QuestId="68827" NpcId="1028963" XYZ="327.0465, 1.468579, -296.4676"/>
    </If>
    <!-- City of the Mord (Level 70) -->
    <If Condition="IsQuestCompleted(68827) and not HasQuest(68828) and not IsQuestCompleted(68828)">
      <GetTo ZoneId="815" XYZ="328.1077, 1.504452, -295.6548"/>
      <If Condition="IsQuestAcceptQualified(68828)">
        <PickupQuest QuestId="68828" NpcId="1028963" XYZ="327.0465, 1.468579, -296.4676"/>
      </If>
    </If>
    <If Condition="HasQuest(68828) and not IsQuestCompleted(68828) and GetQuestStep(68828) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="269.4437, 4.0297, -145.5715"/>
      </If>
      <TalkTo NpcId="1027872" XYZ="268.4519, 4.0297, -144.1825" QuestId="68828" StepId="1"/>
    </If>
    <If Condition="HasQuest(68828) and not IsQuestCompleted(68828) and GetQuestStep(68828) == 2">
      <GetTo ZoneId="815" XYZ="308.8456, 1.468583, -186.6473"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68828) and not IsQuestCompleted(68828) and GetQuestStep(68828) == 255">
      <GetTo ZoneId="815" XYZ="269.4944, 4.0297, -145.8798"/>
      <TurnIn QuestId="68828" NpcId="1027872" XYZ="268.4519, 4.0297, -144.1825"/>
    </If>
    <!-- Working Off the Meal (Level 70) -->
    <If Condition="IsQuestCompleted(68828) and not HasQuest(68829) and not IsQuestCompleted(68829)">
      <GetTo ZoneId="815" XYZ="267.8446, 4.0297, -146.6066"/>
      <If Condition="IsQuestAcceptQualified(68829)">
        <PickupQuest QuestId="68829" NpcId="1028974" XYZ="265.7969, 4.0297, -145.7695"/>
      </If>
    </If>
    <If Condition="HasQuest(68829) and not IsQuestCompleted(68829) and GetQuestStep(68829) == 1 and GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 0">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="206.5381, 4.029698, -292.9276"/>
      </If>
      <TalkTo NpcId="2009936" XYZ="205.4016, 4.013123, -293.5988" InteractDistance="3.0" QuestId="68829"/>
    </If>
    <If Condition="HasQuest(68829) and not IsQuestCompleted(68829) and GetQuestStep(68829) == 1 and GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 1">
      <GetTo ZoneId="815" XYZ="232.1442, 4.029699, -299.5598"/>
      <TalkTo NpcId="2009934" XYZ="231.1589, 4.013123, -300.5569" InteractDistance="3.0" QuestId="68829"/>
    </If>
    <If Condition="HasQuest(68829) and not IsQuestCompleted(68829) and GetQuestStep(68829) == 1 and GetQuestById(68829).GetTodoArgs(1, 0).Item1 == 2">
      <GetTo ZoneId="815" XYZ="326.4479, 1.468583, -287.9315"/>
      <SoTalkTo NpcId="2009935" DialogOption="1" XYZ="328.481, 1.449585, -289.5705" InteractDistance="3.0" QuestId="68829"/>
    </If>
    <If Condition="HasQuest(68829) and not IsQuestCompleted(68829) and GetQuestStep(68829) == 255">
      <GetTo ZoneId="815" XYZ="311.9497, 1.468583, -157.2728"/>
      <TurnIn ItemId="2002618" QuestId="68829" NpcId="1028976" XYZ="313.2218, 1.468583, -154.4061"/>
    </If>
    <!-- A Desert Crossing (Level 70) -->
    <If Condition="IsQuestCompleted(68829) and not HasQuest(68830) and not IsQuestCompleted(68830)">
      <GetTo ZoneId="815" XYZ="311.9497, 1.468583, -157.2728"/>
      <If Condition="IsQuestAcceptQualified(68830)">
        <PickupQuest QuestId="68830" NpcId="1028977" XYZ="313.8933, 1.468583, -156.817"/>
      </If>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 1">
      <GetTo ZoneId="815" XYZ="348.4691, -8.217449, -118.7836"/>
      <TalkTo NpcId="1030606" XYZ="347.158, -8.423396, -117.9371" QuestId="68830" StepId="1"/>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 2">
      <GetTo ZoneId="815" XYZ="443.3203, -23.82671, -44.72424"/>
      <WaitWhile Condition="HasQuest(68830) and not IsQuestCompleted(68830) and not GetQuestStep(68830) == 3"/>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="442.3788, -23.71286, -47.32847"/>
      </If>
      <TalkTo NpcId="1028978" XYZ="443.3203, -23.82671, -44.72424" QuestId="68830" StepId="3"/>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 4">
      <GetTo ZoneId="815" XYZ="487.3754, -37.71689, 54.47195"/>
      <UseObject NpcId="2009848" XYZ="487.5104, -37.9798, 56.10742" QuestId="68830" StepId="4"/>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 5">
      <GetTo ZoneId="815" XYZ="444.4781, -23.94607, -42.2675"/>
      <TalkTo NpcId="1028978" XYZ="443.3203, -23.82671, -44.72424" QuestId="68830" StepId="5"/>
    </If>
    <If Condition="HasQuest(68830) and not IsQuestCompleted(68830) and GetQuestStep(68830) == 255">
      <GetTo ZoneId="815" XYZ="390.0783, -33.60462, 231.4294"/>
      <TurnIn QuestId="68830" NpcId="1028980" XYZ="388.9371, -33.32796, 233.2036"/>
    </If>
    <!-- Following in Her Footprints (Level 70) -->
    <If Condition="IsQuestCompleted(68830) and not HasQuest(68831) and not IsQuestCompleted(68831)">
      <GetTo ZoneId="815" XYZ="374.8638, -26.63243, 290.8993"/>
      <If Condition="IsQuestAcceptQualified(68831)">
        <PickupQuest QuestId="68831" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
      </If>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 1">
      <GetTo ZoneId="815" XYZ="362.6074, -63.41804, 501.0338"/>
      <UseObject NpcId="2009849" XYZ="362.5085, -63.95056, 503.6545" QuestId="68831" StepId="1"/>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="358.0213, -63.32161, 498.1885"/>
      </If>
      <UseObject NpcId="2009850" XYZ="357.0458, -63.34027, 497.7949" QuestId="68831" StepId="2"/>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 3">
      <GetTo ZoneId="815" XYZ="331.676, -71.86294, 464.9056"/>
      <UseObject NpcId="2009851" XYZ="329.5795, -72.15991, 463.3401" QuestId="68831" StepId="3"/>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 4">
      <GetTo ZoneId="815" XYZ="286.7798, -66.87228, 404.6523"/>
      <UseObject NpcId="2009852" XYZ="285.603, -66.88031, 404.2572" QuestId="68831" StepId="4"/>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 5">
      <GetTo ZoneId="815" XYZ="201.6744, -82.56118, 386.3652"/>
      <UseObject NpcId="2009853" XYZ="200.7935, -82.29199, 384.3289" QuestId="68831" StepId="5"/>
    </If>
    <If Condition="HasQuest(68831) and not IsQuestCompleted(68831) and GetQuestStep(68831) == 255">
      <GetTo ZoneId="815" XYZ="270.2206, -45.25459, 332.6542"/>
      <TurnIn QuestId="68831" NpcId="1029002" XYZ="271.3512, -45.26957, 334.4625"/>
    </If>
    <!-- Culling Their Ranks (Level 70) -->
    <If Condition="IsQuestCompleted(68831) and not HasQuest(68832) and not IsQuestCompleted(68832)">
      <GetTo ZoneId="815" XYZ="270.2206, -45.25459, 332.6542"/>
      <If Condition="IsQuestAcceptQualified(68832)">
        <PickupQuest QuestId="68832" NpcId="1029002" XYZ="271.3512, -45.26957, 334.4625"/>
      </If>
    </If>
    <If Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 0">
      <GetTo ZoneId="815" XYZ="216.2719, -58.54439, 263.3914"/>
      <UseObject NpcId="2009854" XYZ="215.4421, -58.60992, 262.745" Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 1">
      <GetTo ZoneId="815" XYZ="259.0193, -44.6575, 160.2928"/>
      <UseObject NpcId="2009855" XYZ="259.205, -44.57166, 159.7466" Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 1"/>
    </If>
    <If Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 2">
      <GetTo ZoneId="815" XYZ="336.1201, -34.96276, 43.02919"/>
      <UseObject NpcId="2009856" XYZ="337.087, -35.01947, 42.31323" Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 1 and GetQuestById(68832).GetTodoArgs(1, 0).Item1 == 2"/>
    </If>
    <If Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 2">
      <GetTo ZoneId="815" XYZ="392.8575, -33.65807, 230.7946"/>
      <TalkTo NpcId="1029003" XYZ="392.4773, -33.87629, 229.5414" QuestId="68832" StepId="2"/>
    </If>
    <If Condition="HasQuest(68832) and not IsQuestCompleted(68832) and GetQuestStep(68832) == 255">
      <GetTo ZoneId="815" XYZ="374.9984, -26.63243, 289.7008"/>
      <TurnIn QuestId="68832" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
    </If>
    <!-- A Purchase of Fruit (Level 70) -->
    <If Condition="IsQuestCompleted(68832) and not HasQuest(68833) and not IsQuestCompleted(68833)">
      <GetTo ZoneId="815" XYZ="374.9984, -26.63243, 289.7008"/>
      <If Condition="IsQuestAcceptQualified(68833)">
        <PickupQuest QuestId="68833" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
      </If>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="358.7505, -27.7828, 315.6909"/>
      </If>
      <UseObject NpcId="1027909" XYZ="357.4731, -27.14587, 317.2808" QuestId="68833" StepId="1"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="357.9092, -27.87422, 310.6237"/>
      </If>
      <UseObject NpcId="1027910" XYZ="356.7101, -27.8172, 310.048" QuestId="68833" StepId="2"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="362.2903, -27.966, 301.5006"/>
      </If>
      <UseObject NpcId="1030386" XYZ="363.4851, -27.966, 301.2893" QuestId="68833" StepId="3"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="373.4229, -26.63243, 292.0876"/>
      </If>
      <TalkTo NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996" QuestId="68833" StepId="4"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 5">
      <GetTo ZoneId="815" XYZ="309.028, 1.468583, -186.8764"/>
      <TalkTo NpcId="1027873" XYZ="312.2452, 1.468583, -186.1448" QuestId="68833" StepId="5"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 6">
      <GetTo ZoneId="815" XYZ="216.0815, 7.155827, -213.5504"/>
      <TalkTo NpcId="1029007" XYZ="215.137, 7.155827, -214.3435" QuestId="68833" StepId="6"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 7">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="216.0815, 7.155827, -213.5504"/>
      </If>
      <TalkTo NpcId="1029007" XYZ="215.137, 7.155827, -214.3435" QuestId="68833" StepId="7"/>
    </If>
    <If Condition="HasQuest(68833) and not IsQuestCompleted(68833) and GetQuestStep(68833) == 255">
      <GetTo ZoneId="815" XYZ="374.1748, -26.63243, 292.0023"/>
      <TurnIn ItemId="2002452" QuestId="68833" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
    </If>
    <!-- The Time Left to Us (Level 70) -->
    <If Condition="IsQuestCompleted(68833) and not HasQuest(68834) and not IsQuestCompleted(68834)">
      <GetTo ZoneId="815" XYZ="374.1748, -26.63243, 292.0023"/>
      <If Condition="IsQuestAcceptQualified(68834)">
        <PickupQuest QuestId="68834" NpcId="1029001" XYZ="373.0983, -26.63243, 290.6996"/>
      </If>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="398.7357, -28.3578, 351.068"/>
      </If>
      <TalkTo NpcId="1029008" XYZ="399.649, -28.3578, 349.813" QuestId="68834" StepId="1"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 2">
      <GetTo ZoneId="815" XYZ="471.754, -72.0216, 486.1151"/>
      <UseObject NpcId="2009858" XYZ="473.5026, -72.67877, 487.5715" QuestId="68834" StepId="2"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 3">
      <GetTo ZoneId="815" XYZ="320.2697, -75.85684, 475.9404"/>
      <UseObject NpcId="2009859" XYZ="317.2808, -76.55457, 476.6461" QuestId="68834" StepId="3"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 4">
      <GetTo ZoneId="815" XYZ="284.3677, -43.93068, 304.0748"/>
      <UseObject NpcId="2009860" XYZ="284.2603, -43.90027, 302.2965" QuestId="68834" StepId="4"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 5">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="401.5629, -28.80457, 257.8185"/>
      </If>
      <TalkTo NpcId="1029010" XYZ="401.3275, -28.80457, 260.212" QuestId="68834" StepId="5"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 6 and GetQuestById(68834).GetTodoArgs(6, 0).Item1 == 0">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="421.8729, -26.86041, 293.2871"/>
      </If>
      <TalkTo NpcId="1027906" XYZ="423.1479, -26.83098, 294.6974" QuestId="68834"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 6 and GetQuestById(68834).GetTodoArgs(6, 0).Item1 == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="380.0277, -28.29881, 324.0459"/>
      </If>
      <TalkTo NpcId="1027911" XYZ="378.7136, -28.25547, 324.9714" QuestId="68834"/>
    </If>
    <If Condition="HasQuest(68834) and not IsQuestCompleted(68834) and GetQuestStep(68834) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="400.4507, -28.68429, 258.7409"/>
      </If>
      <TurnIn QuestId="68834" NpcId="1029012" XYZ="400.8087, -28.75819, 257.2823"/>
    </If>
    <!-- Tears on the Sand (Level 70) -->
    <If Condition="IsQuestCompleted(68834) and not HasQuest(68835) and not IsQuestCompleted(68835)">
      <GetTo ZoneId="815" XYZ="400.4507, -28.68429, 258.7409"/>
      <If Condition="IsQuestAcceptQualified(68835)">
        <PickupQuest QuestId="68835" NpcId="1029010" XYZ="401.3275, -28.80457, 260.212"/>
      </If>
    </If>
    <If Condition="HasQuest(68835) and not IsQuestCompleted(68835) and GetQuestStep(68835) == 1">
      <GetTo ZoneId="815" XYZ="662.3602, -49.21608, -649.7316"/>
      <TalkTo NpcId="1029013" XYZ="664.4236, -48.86591, -651.3619" QuestId="68835" StepId="1"/>
    </If>
    <If Condition="HasQuest(68835) and not IsQuestCompleted(68835) and GetQuestStep(68835) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="47.36168, 36.19769, -168.3282"/>
      </If>
      <TalkTo NpcId="1029014" XYZ="46.70776, 36.19769, -167.4373" QuestId="68835" StepId="2"/>
    </If>
    <If Condition="HasQuest(68835) and not IsQuestCompleted(68835) and GetQuestStep(68835) == 255">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TurnIn QuestId="68835" NpcId="1029015" XYZ="2.243042, 0, -4.104736"/>
    </If>
    <!-- The Lightwardens (Level 71) -->
    <If Condition="IsQuestCompleted(68835) and not HasQuest(68836) and not IsQuestCompleted(68836)">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <If Condition="IsQuestAcceptQualified(68836)">
        <PickupQuest QuestId="68836" NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344"/>
      </If>
    </If>
    <If Condition="HasQuest(68836) and not IsQuestCompleted(68836) and GetQuestStep(68836) == 1">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TalkTo NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="68836" StepId="1"/>
    </If>
    <If Condition="HasQuest(68836) and not IsQuestCompleted(68836) and GetQuestStep(68836) == 2">
      <If Condition="not IsOnMap(813)">
        <If Condition="IsOnMap(844)">
          <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
        </If>
        <GetTo ZoneId="813" XYZ="349.1707, 3.282062, 169.532"/>
      </If>
      <TalkTo NpcId="1028928" XYZ="347.9821, 3.516627, 167.895" QuestId="68836" StepId="2"/>
    </If>
    <If Condition="HasQuest(68836) and not IsQuestCompleted(68836) and GetQuestStep(68836) == 3">
      <GetTo ZoneId="813" XYZ="680.6741, 101.6722, -708.5827"/>
      <TalkTo NpcId="1029846" XYZ="682.3376, 101.7017, -710.3533" QuestId="68836" StepId="3"/>
    </If>
    <If Condition="HasQuest(68836) and not IsQuestCompleted(68836) and GetQuestStep(68836) == 4">
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68836) and not IsQuestCompleted(68836) and GetQuestStep(68836) == 255">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="684.1846, 101.7182, -712.0588"/>
      </If>
      <TurnIn QuestId="68836" NpcId="1029846" XYZ="682.3376, 101.7017, -710.3533"/>
    </If>
    <!-- Warrior of Darkness (Level 71) -->
    <If Condition="IsQuestCompleted(68836) and not HasQuest(68837) and not IsQuestCompleted(68837)">
      <GetTo ZoneId="813" XYZ="684.1846, 101.7182, -712.0588"/>
      <If Condition="IsQuestAcceptQualified(68837)">
        <PickupQuest QuestId="68837" NpcId="1029846" XYZ="682.3376, 101.7017, -710.3533"/>
      </If>
    </If>
    <If Condition="HasQuest(68837) and not IsQuestCompleted(68837) and GetQuestStep(68837) == 1">
      <GetTo ZoneId="819" XYZ="-6.564686, -2.384186E-07, -6.831451"/>
      <TalkTo NpcId="1028929" XYZ="-4.501404, -2.384186E-07, -7.370178" QuestId="68837" StepId="1"/>
    </If>
    <If Condition="HasQuest(68837) and not IsQuestCompleted(68837) and GetQuestStep(68837) == 2">
      <GetTo ZoneId="819" XYZ="-57.71049, -7.669651, 116.271"/>
      <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="68837" StepId="2"/>
    </If>
    <If Condition="HasQuest(68837) and not IsQuestCompleted(68837) and GetQuestStep(68837) == 3">
      <GetTo ZoneId="819" XYZ="-20.90951, 3.999817, 201.8831"/>
      <TalkTo NpcId="1027322" XYZ="-20.12665, 3.999817, 204.2419" QuestId="68837" StepId="3"/>
    </If>
    <If Condition="HasQuest(68837) and not IsQuestCompleted(68837) and GetQuestStep(68837) == 255">
      <GetTo ZoneId="819" XYZ="64.06323, 1.716012, 247.5197"/>
      <SoTurnIn QuestId="68837" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
    </If>
    <!-- An Unwelcome Guest (Level 72) -->
    <If Condition="IsQuestCompleted(68837) and not HasQuest(68838) and not IsQuestCompleted(68838)">
      <GetTo ZoneId="819" XYZ="62.99122, 1.716012, 248.0836"/>
      <If Condition="IsQuestAcceptQualified(68838)">
        <PickupQuest QuestId="68838" NpcId="1027231" XYZ="65.35437, 1.716012, 249.8359"/>
      </If>
    </If>
    <If Condition="HasQuest(68838) and not IsQuestCompleted(68838) and GetQuestStep(68838) == 1">
      <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
      <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      <WaitWhile Condition="HasQuest(68838) and not IsQuestCompleted(68838) and not GetQuestStep(68838) == 2"/>
    </If>
    <If Condition="HasQuest(68838) and not IsQuestCompleted(68838) and GetQuestStep(68838) == 2">
      <If Condition="not IsOnMap(819)">
        <If Condition="IsOnMap(844)">
          <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.009940993, 1.036532, 14.22064"/>
        </If>
        <GetTo ZoneId="819" XYZ="-59.97935, -17.72201, -267.2023"/>
      </If>
      <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68838" StepId="2"/>
    </If>
    <If Condition="HasQuest(68838) and not IsQuestCompleted(68838) and GetQuestStep(68838) == 3">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-61.76431, -36.75, -276.8105"/>
      </If>
      <UseObject NpcId="2009809" XYZ="-62.63831, -35.44672, -275.8373" QuestId="68838" StepId="3"/>
    </If>
    <If Condition="HasQuest(68838) and not IsQuestCompleted(68838) and GetQuestStep(68838) == 4">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-60.20567, -17.72202, -266.588"/>
      </If>
      <HandOver ItemId="2002530" NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="68838" StepId="4"/>
    </If>
    <If Condition="HasQuest(68838) and not IsQuestCompleted(68838) and GetQuestStep(68838) == 255">
      <GetTo ZoneId="819" XYZ="-66.23074, -37.7, -211.2124"/>
      <TurnIn QuestId="68838" NpcId="1028941" XYZ="-67.0329, -37.7, -209.1555"/>
    </If>
    <!-- The Crystarium's Resolve (Level 72) -->
    <If Condition="IsQuestCompleted(68838) and not HasQuest(68839) and not IsQuestCompleted(68839)">
      <GetTo ZoneId="819" XYZ="-65.37766, -37.7, -210.245"/>
      <If Condition="IsQuestAcceptQualified(68839)">
        <PickupQuest QuestId="68839" NpcId="1028943" XYZ="-65.4765, -37.7, -209.0028"/>
      </If>
    </If>
    <If Condition="HasQuest(68839) and not IsQuestCompleted(68839) and GetQuestStep(68839) == 1">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-65.37766, -37.7, -210.245"/>
      </If>
      <TalkTo NpcId="1028944" XYZ="-63.76752, -37.7, -210.2846" QuestId="68839" StepId="1"/>
    </If>
    <If Condition="HasQuest(68839) and not IsQuestCompleted(68839) and GetQuestStep(68839) == 2">
      <GetTo ZoneId="819" XYZ="-11.06304, 20.1973, -137.6856"/>
      <TalkTo NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225" QuestId="68839" StepId="2"/>
    </If>
    <If Condition="HasQuest(68839) and not IsQuestCompleted(68839) and GetQuestStep(68839) == 3">
      <GetTo ZoneId="819" XYZ="-29.38691, -0.65, -50.29358"/>
      <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="68839" StepId="3"/>
    </If>
    <If Condition="HasQuest(68839) and not IsQuestCompleted(68839) and GetQuestStep(68839) == 4">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-29.38691, -0.65, -50.29358"/>
      </If>
      <WaitTimer Time="10000"/>
      <RunCode Name="68839"/>
      <WaitWhile Condition="HasQuest(68839) and not IsQuestCompleted(68839) and not GetQuestStep(68839) == 255"/>
    </If>
    <If Condition="HasQuest(68839) and not IsQuestCompleted(68839) and GetQuestStep(68839) == 255">
      <GetTo ZoneId="819" XYZ="-134.9314, 0, -72.57999"/>
      <TurnIn QuestId="68839" NpcId="1027246" XYZ="-136.9802, 0, -73.77747"/>
    </If>
    <!-- Logistics of War (Level 72) -->
    <If Condition="IsQuestCompleted(68839) and not HasQuest(68840) and not IsQuestCompleted(68840)">
      <GetTo ZoneId="819" XYZ="-134.9314, 0, -72.57999"/>
      <If Condition="IsQuestAcceptQualified(68840)">
        <PickupQuest QuestId="68840" NpcId="1027246" XYZ="-136.9802, 0, -73.77747"/>
      </If>
    </If>
    <If Condition="HasQuest(68840) and not IsQuestCompleted(68840) and GetQuestStep(68840) == 1">
      <GetTo ZoneId="813" XYZ="589.5921, 9.067657, 341.6129"/>
      <TalkTo NpcId="1028945" XYZ="588.5555, 9.151089, 342.7328" QuestId="68840" StepId="1"/>
    </If>
    <If Condition="HasQuest(68840) and not IsQuestCompleted(68840) and GetQuestStep(68840) == 2">
      <If Condition="not Core.Me.IsMounted">
        <GetTo ZoneId="813" XYZ="589.9456, 8.75728, 340.565"/>
        <TalkTo NpcId="1028945" XYZ="588.5555, 9.151089, 342.7328"/>
      </If>
      <RunCode Name="688402"/>
    </If>
    <If Condition="HasQuest(68840) and not IsQuestCompleted(68840) and GetQuestStep(68840) == 3">
      <If Condition="not Core.Me.IsMounted and not MovementManager.IsFlying">
        <GetTo ZoneId="813" XYZ="-164.2221, 9.361096, -81.12333"/>
        <TalkTo NpcId="1028946" XYZ="-165.1179, 5.761646, -80.55243"/>
      </If>
      <RunCode Name="688403"/>
    </If>
    <If Condition="HasQuest(68840) and not IsQuestCompleted(68840) and GetQuestStep(68840) == 4">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-618.1512, 56.75785, -150.36"/>
      </If>
      <TalkTo NpcId="1027395" XYZ="-618.0667, 56.75789, -148.2415" QuestId="68840" StepId="4"/>
    </If>
    <If Condition="HasQuest(68840) and not IsQuestCompleted(68840) and GetQuestStep(68840) == 255">
      <GetTo ZoneId="813" XYZ="-650.3562, 64.32664, -271.6161"/>
      <TurnIn QuestId="68840" NpcId="1028947" XYZ="-648.9509, 64.32664, -271.6564"/>
    </If>
    <!-- The Oracle of Light (Level 72) -->
    <If Condition="IsQuestCompleted(68840) and not HasQuest(68841) and not IsQuestCompleted(68841)">
      <GetTo ZoneId="813" XYZ="-650.3562, 64.32664, -271.6161"/>
      <If Condition="IsQuestAcceptQualified(68841)">
        <PickupQuest QuestId="68841" NpcId="1028947" XYZ="-648.9509, 64.32664, -271.6564"/>
      </If>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-634.4615, 56.20171, -138.3651"/>
      </If>
      <UseObject NpcId="2009814" XYZ="-636.1639, 57.35864, -137.6212" QuestId="68841" StepId="1"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 2 and GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-636.485, 56.80487, -165.1346"/>
      </If>
      <HandOver ItemId="2002532" NpcId="1028951" XYZ="-639.0631, 56.95372, -167.712" QuestId="68841"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 2 and GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-749.9599, 66.44429, -192.0538"/>
      </If>
      <HandOver ItemId="2002532" NpcId="1028952" XYZ="-750.2098, 66.442, -194.3237" QuestId="68841"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 2 and GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-775.2819, 51.54448, -240.9121"/>
      </If>
      <HandOver ItemId="2002532" NpcId="1028953" XYZ="-776.5164, 51.56758, -243.5798" QuestId="68841"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 2 and GetQuestById(68841).GetTodoArgs(2, 0).Item1 == 3">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-719.3278, 51.50114, -264.2994"/>
      </If>
      <HandOver ItemId="2002532" NpcId="1028954" XYZ="-715.7855, 51.50113, -265.4918" QuestId="68841"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 3">
      <GetTo ZoneId="813" XYZ="-650.8683, 64.32664, -271.4039"/>
      <TalkTo NpcId="1028947" XYZ="-648.9509, 64.32664, -271.6564" QuestId="68841" StepId="3"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 4">
      <GetTo ZoneId="813" XYZ="-756.6715, 200.1388, -295.2919"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68841) and not IsQuestCompleted(68841) and GetQuestStep(68841) == 255">
      <GetTo ZoneId="816" XYZ="-637.0616, 126.0549, 698.6165"/>
      <TurnIn QuestId="68841" NpcId="1028956" XYZ="-635.7672, 126.0163, 697.444"/>
    </If>
    <!-- Il Mheg, the Faerie Kingdom (Level 72) -->
    <If Condition="IsQuestCompleted(68841) and not HasQuest(68842) and not IsQuestCompleted(68842)">
      <GetTo ZoneId="816" XYZ="-637.0616, 126.0549, 698.6165"/>
      <If Condition="IsQuestAcceptQualified(68842)">
        <PickupQuest QuestId="68842" NpcId="1028956" XYZ="-635.7672, 126.0163, 697.444"/>
      </If>
    </If>
    <If Condition="HasQuest(68842) and not IsQuestCompleted(68842) and GetQuestStep(68842) == 1">
      <GetTo ZoneId="816" XYZ="-368.569, 47.91702, 497.4654"/>
      <TalkTo NpcId="1028970" XYZ="-370.4128, 47.98858, 497.3982" QuestId="68842" StepId="1"/>
    </If>
    <If Condition="HasQuest(68842) and not IsQuestCompleted(68842) and GetQuestStep(68842) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-382.3653, 60.34946, 529.2402"/>
      </If>
	  <MoveTo XYZ="-382.5748, 60.79728, 530.5694" Distance="0.1"/>
      <SoTalkTo NpcId="2009816" XYZ="-382.5748, 60.79728, 530.5694" QuestId="68842" StepId="2"/>
    </If>
    <If Condition="HasQuest(68842) and not IsQuestCompleted(68842) and GetQuestStep(68842) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-371.3534, 48.05331, 498.4349"/>
      </If>
      <TurnIn ItemId="2002533" QuestId="68842" NpcId="1028970" XYZ="-370.4128, 47.98858, 497.3982"/>
    </If>
    <!-- Sul Uin's Request (Level 72) -->
    <If Condition="IsQuestCompleted(68842) and not HasQuest(68843) and not IsQuestCompleted(68843)">
      <GetTo ZoneId="816" XYZ="-356.6293, 46.79337, 482.9474"/>
      <If Condition="IsQuestAcceptQualified(68843)">
        <PickupQuest QuestId="68843" NpcId="1027654" XYZ="-355.3063, 46.68421, 482.0172"/>
      </If>
    </If>
    <If Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 0">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-452.7749, 79.07576, 592.0464"/>
      </If>
      <UseItem ItemId="2002534" NpcId="2009819" XYZ="-454.8867, 80.125, 593.469" Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-373.7686, 75.98854, 550.1064"/>
      </If>
      <MoveTo XYZ="-361.5254, 68.93802, 549.5556" Distance="1"/>
      <RunCode Name="68843"/>
      <UseItem ItemId="2002534" NpcId="2009820" XYZ="-375.2957, 76.06616, 550.4386" Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 1"/>
      <MoveTo XYZ="-361.5254, 68.93802, 549.5556" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-281.3918, 56.62772, 475.3147"/>
      </If>
      <UseItem ItemId="2002534" NpcId="2009821" XYZ="-280.3235, 56.22937, 474.0825" Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 1 and GetQuestById(68843).GetTodoArgs(1, 0).Item1 == 2"/>
    </If>
    <If Condition="HasQuest(68843) and not IsQuestCompleted(68843) and GetQuestStep(68843) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-354.0298, 46.73177, 481.9255"/>
      </If>
      <TurnIn QuestId="68843" NpcId="1027654" XYZ="-355.3063, 46.68421, 482.0172"/>
    </If>
    <!-- Ys Iala’s Errand (Level 72)-->
    <If Condition="IsQuestCompleted(68843) and not HasQuest(68844) and not IsQuestCompleted(68844)">
      <GetTo ZoneId="816" XYZ="-424.1453, 60.46432, 489.9934"/>
      <If Condition="IsQuestAcceptQualified(68844)">
        <PickupQuest QuestId="68844" NpcId="1027655" XYZ="-424.6739, 60.46432, 490.0739"/>
      </If>
    </If>
    <If Condition="HasQuest(68844) and not IsQuestCompleted(68844) and GetQuestStep(68844) == 1 and GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 0">
      <GetTo ZoneId="816" XYZ="-213.2489, 37.8447, 358.0795"/>
      <UseObject NpcId="2009822" XYZ="-211.1086, 38.89526, 356.7711" Condition="HasQuest(68844) and not IsQuestCompleted(68844) and GetQuestStep(68844) == 1 and GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68844) and not IsQuestCompleted(68844) and GetQuestStep(68844) == 1 and GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 1">
      <GetTo ZoneId="816" XYZ="-259.0095, 38.20922, 291.1927"/>
      <UseObject NpcId="2009823" XYZ="-260.2427, 38.98682, 289.0516" Condition="HasQuest(68844) and not IsQuestCompleted(68844) and GetQuestStep(68844) == 1 and GetQuestById(68844).GetTodoArgs(1, 0).Item1 == 1"/>
    </If>
    <If Condition="HasQuest(68844) and not IsQuestCompleted(68844) and GetQuestStep(68844) == 255">
      <GetTo ZoneId="816" XYZ="-424.1453, 60.46432, 489.9934"/>
      <TurnIn ItemId="2002535" QuestId="68844" NpcId="1027655" XYZ="-424.6739, 60.46432, 490.0739"/>
    </If>
    <!-- Oul Sigun’s Plea (Level 72) -->
    <If Condition="IsQuestCompleted(68844) and not HasQuest(68845) and not IsQuestCompleted(68845)">
      <GetTo ZoneId="816" XYZ="-292.5939, 40.32404, 457.3369"/>
      <If Condition="IsQuestAcceptQualified(68845)">
        <PickupQuest QuestId="68845" NpcId="1027656" XYZ="-291.6152, 40.32404, 456.6567"/>
      </If>
    </If>
    <If Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 1">
      <GetTo ZoneId="816" XYZ="-60.82149, 0.4029217, 282.0176"/>
      <UseObject NpcId="2009824" XYZ="-59.25079, 0.4729614, 279.9573" QuestId="68845" StepId="1"/>
    </If>
    <If Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 2 and GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 0">
      <GetTo ZoneId="816" XYZ="-123.7449, 16.17282, 412.8966"/>
      <UseItem ItemId="2002536" NpcId="2009825" XYZ="-122.3011, 17.80725, 413.2295" Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 2 and GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 2 and GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 1">
      <GetTo ZoneId="816" XYZ="-263.0797, 40.32403, 468.5172"/>
      <UseItem ItemId="2002536" NpcId="2009826" XYZ="-263.1724, 41.85547, 469.5963" Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 2 and GetQuestById(68845).GetTodoArgs(2, 0).Item1 == 1"/>
    </If>
    <If Condition="HasQuest(68845) and not IsQuestCompleted(68845) and GetQuestStep(68845) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-290.6045, 40.32404, 457.3619"/>
      </If>
      <TurnIn ItemId="2002536" QuestId="68845" NpcId="1027656" XYZ="-291.6152, 40.32404, 456.6567"/>
    </If>
    <!-- Unto the Truth (Level 72) -->
    <If Condition="IsQuestCompleted(68845) and not HasQuest(68846) and not IsQuestCompleted(68846)">
      <GetTo ZoneId="816" XYZ="-402.6659, 56.98001, 441.1852"/>
      <If Condition="IsQuestAcceptQualified(68846)">
        <PickupQuest QuestId="68846" NpcId="1028981" XYZ="-405.1729, 57.40512, 440.4515"/>
      </If>
    </If>
    <If Condition="HasQuest(68846) and not IsQuestCompleted(68846) and GetQuestStep(68846) == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-408.6436, 58.09317, 409.1154"/>
      </If>
      <MoveTo XYZ="-408.6436, 58.09317, 409.1154" Distance="1"/>
      <RunCode Name="68846"/>
      <WaitWhile Condition="HasQuest(68846) and not IsQuestCompleted(68846) and not GetQuestStep(68846) == 4"/>
    </If>
    <If Condition="HasQuest(68846) and not IsQuestCompleted(68846) and GetQuestStep(68846) == 4">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-361.3544, 46.09528, 472.5609"/>
      </If>
      <TalkTo NpcId="1028995" XYZ="-360.7081, 45.90706, 470.7255" QuestId="68846" StepId="4"/>
    </If>
    <If Condition="HasQuest(68846) and not IsQuestCompleted(68846) and GetQuestStep(68846) == 255">
      <GetTo ZoneId="816" XYZ="-602.7722, 35.8357, -228.9509"/>
      <TurnIn QuestId="68846" NpcId="1028999" XYZ="-603.1434, 36.11779, -230.0603"/>
    </If>
    <!-- Courting Cooperation (Level 72) -->
    <If Condition="IsQuestCompleted(68846) and not HasQuest(68847) and not IsQuestCompleted(68847)">
      <GetTo ZoneId="816" XYZ="-643.1768, 35.86156, -223.9426"/>
      <If Condition="IsQuestAcceptQualified(68847)">
        <SoPickupQuest QuestId="68847" NpcId="1029017" XYZ="-645.0142, 35.86156, -223.1022"/>
      </If>
    </If>
    <If Condition="HasQuest(68847) and not IsQuestCompleted(68847) and GetQuestStep(68847) == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-614.252, 31.38261, -166.4375"/>
      </If>
      <UseItem ItemId="2002572" NpcId="8581" XYZ="-595.636, 22.76338, -154.4061" InCombatOnly="True" UseHealthPercent="25" QuestId="68847" StepId="1"/>
    </If>
    <If Condition="HasQuest(68847) and not IsQuestCompleted(68847) and GetQuestStep(68847) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-642.8879, 35.86156, -223.8141"/>
      </If>
      <HandOver ItemId="2002573" NpcId="1029017" XYZ="-645.0142, 35.86156, -223.1022" QuestId="68847" StepId="2"/>
    </If>
    <If Condition="HasQuest(68847) and not IsQuestCompleted(68847) and GetQuestStep(68847) == 255">
      <GetTo ZoneId="816" XYZ="-355.214, 46.97292, 483.4761"/>
      <TurnIn QuestId="68847" NpcId="1030535" XYZ="-355.3063, 46.68421, 482.0172"/>
    </If>
    <!-- The Key to the Castle (Level 73) -->
    <If Condition="IsQuestCompleted(68847) and not HasQuest(68848) and not IsQuestCompleted(68848)">
      <GetTo ZoneId="816" XYZ="-356.0784, 46.90136, 483.5364"/>
      <If Condition="IsQuestAcceptQualified(68848)">
        <PickupQuest QuestId="68848" NpcId="1030535" XYZ="-355.3063, 46.68421, 482.0172"/>
      </If>
    </If>
    <If Condition="HasQuest(68848) and not IsQuestCompleted(68848) and GetQuestStep(68848) == 1">
      <GetTo ZoneId="816" XYZ="131.8605, 0.289115, 455.5944"/>
      <UseObject NpcId="2009828" XYZ="133.4095, -0.01531982, 455.9242" QuestId="68848" StepId="1"/>
    </If>
    <If Condition="HasQuest(68848) and not IsQuestCompleted(68848) and GetQuestStep(68848) == 2">
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68848) and not IsQuestCompleted(68848) and GetQuestStep(68848) == 255">
      <GetTo ZoneId="816" XYZ="-298.1156, 1.205296, 180.5444"/>
      <TurnIn QuestId="68848" NpcId="1031669" XYZ="-300.0077, 1.49948, 182.8794"/>
    </If>
    <!-- A Visit to the Nu Mou (Level 73) -->
    <If Condition="IsQuestCompleted(68848) and not HasQuest(68849) and not IsQuestCompleted(68849)">
      <GetTo ZoneId="816" XYZ="-298.1156, 1.205296, 180.5444"/>
      <If Condition="IsQuestAcceptQualified(68849)">
        <PickupQuest QuestId="68849" NpcId="1029162" XYZ="-300.6791, 1.528771, 182.2384"/>
      </If>
    </If>
    <If Condition="HasQuest(68849) and not IsQuestCompleted(68849) and GetQuestStep(68849) == 1">
      <GetTo ZoneId="816" XYZ="-548.0441, 26.00969, -227.0534"/>
      <TalkTo NpcId="1030577" XYZ="-547.57, 26.35893, -229.1143" QuestId="68849" StepId="1"/>
    </If>
    <If Condition="HasQuest(68849) and not IsQuestCompleted(68849) and GetQuestStep(68849) == 2">
      <GetTo ZoneId="816" XYZ="-415.6534, 86.34199, -443.0841"/>
      <TalkTo NpcId="1030578" XYZ="-413.9926, 86.60777, -444.5716" QuestId="68849" StepId="2"/>
    </If>
    <If Condition="HasQuest(68849) and not IsQuestCompleted(68849) and GetQuestStep(68849) == 3">
      <GetTo ZoneId="816" XYZ="-519.4133, 75.76588, -416.6114"/>
      <TalkTo NpcId="1030579" XYZ="-517.2656, 76.02325, -416.6782" QuestId="68849" StepId="3"/>
    </If>
    <If Condition="HasQuest(68849) and not IsQuestCompleted(68849) and GetQuestStep(68849) == 4">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-519.4133, 75.76588, -416.6114"/>
      </If>
      <If Condition="not Core.Me.HasAura(1151)">
        <TalkTo NpcId="1030579" XYZ="-517.2656, 76.02325, -416.6782"/>
      </If>
      <RunCode Name="68849"/>
      <NoCombatMoveTo XYZ="-213.4811, 55.12505, -563.1155" Distance="1"/>
      <WaitWhile Condition="HasQuest(68849) and not IsQuestCompleted(68849) and not GetQuestStep(68849) == 255"/>
      <RunCode Name="68849"/>
    </If>
    <If Condition="HasQuest(68849) and not IsQuestCompleted(68849) and GetQuestStep(68849) == 255">
      <GetTo ZoneId="816" XYZ="-131.5806, 58.49586, -678.4605"/>
      <TurnIn QuestId="68849" NpcId="1029562" XYZ="-130.6935, 58.75494, -680.4761"/>
    </If>
    <!-- A Fitting Payment (Level 73) -->
    <If Condition="IsQuestCompleted(68849) and not HasQuest(68850) and not IsQuestCompleted(68850)">
      <GetTo ZoneId="816" XYZ="-146.0237, 99.8919, -848.6055"/>
      <If Condition="IsQuestAcceptQualified(68850)">
        <PickupQuest QuestId="68850" NpcId="1029564" XYZ="-143.267, 100.1842, -848.9052"/>
      </If>
    </If>
    <If Condition="HasQuest(68850) and not IsQuestCompleted(68850) and GetQuestStep(68850) == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-45.31753, 104.8736, -857.7643"/>
      </If>
      <TalkTo NpcId="1029572" XYZ="-44.02228, 104.9151, -856.5347" QuestId="68850" StepId="1"/>
    </If>
    <If Condition="HasQuest(68850) and not IsQuestCompleted(68850) and GetQuestStep(68850) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-88.08081, 53.65552, -648.1254"/>
      </If>
      <Grind GrindRef="68850" PostCombatDelay="3.0" While="HasQuest(68850) and not IsQuestCompleted(68850) and not GetQuestStep(68850) == 255"/>
    </If>
    <If Condition="HasQuest(68850) and not IsQuestCompleted(68850) and GetQuestStep(68850) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-46.4519, 104.7952, -857.6154"/>
      </If>
      <TurnIn ItemId="2002537" QuestId="68850" NpcId="1029572" XYZ="-44.02228, 104.9151, -856.5347"/>
    </If>
    <!-- Spore Sweeper (Level 73) -->
    <If Condition="IsQuestCompleted(68850) and not HasQuest(68851) and not IsQuestCompleted(68851)">
      <GetTo ZoneId="816" XYZ="-82.70111, 101.685, -865.3964"/>
      <If Condition="IsQuestAcceptQualified(68851)">
        <PickupQuest QuestId="68851" NpcId="1029573" XYZ="-85.83203, 101.6589, -866.0563"/>
      </If>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 0">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-111.7723, 103.1051, -865.7816"/>
      </If>
      <UseObject NpcId="2009830" XYZ="-111.7723, 103.1051, -865.7816" Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-49.04696, 104.576, -856.5419"/>
      </If>
      <MoveTo XYZ="-49.04696, 104.576, -856.5419" Distance="1"/>
      <RunCode Name="68851"/>
      <UseObject NpcId="2009831" XYZ="-39.84137, 116.2279, -839.292" Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 1"/>
      <MoveTo XYZ="-33.62787, 105.4577, -866.9728" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-111.7723, 103.1051, -865.7816"/>
      </If>
      <UseObject NpcId="2009832" XYZ="25.43677, 100.6942, -902.3118" Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 1 and GetQuestById(68851).GetTodoArgs(1, 0).Item1 == 2"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-83.86695, 101.6036, -865.5789"/>
      </If>
      <TalkTo NpcId="1029573" XYZ="-85.83203, 101.6589, -866.0563" QuestId="68851" StepId="2"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 3">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-182.8789, 83.817, -787.0206"/>
      </If>
      <UseObject NpcId="2009833" XYZ="-181.1398, 84.09241, -786.2211" QuestId="68851" StepId="3"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 4">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-166.7645, 82.25686, -752.0114"/>
      </If>
      <TalkTo NpcId="1029574" XYZ="-164.6296, 82.30322, -751.9799" QuestId="68851" StepId="4"/>
    </If>
    <If Condition="HasQuest(68851) and not IsQuestCompleted(68851) and GetQuestStep(68851) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-85.28179, 101.5422, -864.0886"/>
      </If>
      <TurnIn QuestId="68851" NpcId="1029573" XYZ="-85.83203, 101.6589, -866.0563"/>
    </If>
    <!-- The Lawless Ones (Level 73) -->
    <If Condition="IsQuestCompleted(68851) and not HasQuest(68852) and not IsQuestCompleted(68852)">
      <GetTo ZoneId="816" XYZ="-100.4421, 101.8601, -840.1843"/>
      <If Condition="IsQuestAcceptQualified(68852)">
        <PickupQuest QuestId="68852" NpcId="1027672" XYZ="-101.5183, 101.8601, -838.4985"/>
      </If>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 1">
      <GetTo ZoneId="816" XYZ="476.9024, 90.93466, -330.5154"/>
      <TalkTo NpcId="1029575" XYZ="477.47, 90.93466, -328.5725" QuestId="68852" StepId="1"/>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 0">
      <GetTo ZoneId="816" XYZ="516.113, 121.8382, -157.0513"/>
      <UseObject NpcId="2009836" XYZ="514.4578, 122.4536, -158.2819" Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 1">
      <GetTo ZoneId="816" XYZ="494.9538, 103.463, -119.4138"/>
      <UseObject NpcId="2009834" XYZ="496.7573, 103.9597, -116.4111" Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 1"/>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="533.7747, 109.4174, -154.8044"/>
      </If>
      <NoCombatMoveTo XYZ="533.7747, 109.4174, -154.8044" Distance="1"/>
      <RunCode Name="68852"/>
      <UseObject NpcId="2009835" XYZ="570.0007, 119.1576, -145.7084" Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 2 and GetQuestById(68852).GetTodoArgs(2, 0).Item1 == 2"/>
      <MoveTo XYZ="549.6824, 117.2716, -154.7098" Distance="1"/>
      <MoveTo XYZ="533.7747, 109.4174, -154.8044" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 3">
      <GetTo ZoneId="816" XYZ="295.1513, 67.24311, -408.0851"/>
      <TalkTo NpcId="1029576" XYZ="292.9274, 67.604, -408.1331" QuestId="68852" StepId="3"/>
    </If>
    <If Condition="HasQuest(68852) and not IsQuestCompleted(68852) and GetQuestStep(68852) == 255">
      <GetTo ZoneId="816" XYZ="-99.34395, 101.694, -839.9088"/>
      <TurnIn ItemId="2002538" QuestId="68852" NpcId="1027672" XYZ="-101.5183, 101.8601, -838.4985"/>
    </If>
    <!-- The Elder's Answer (Level 73) -->
    <If Condition="IsQuestCompleted(68852) and not HasQuest(68853) and not IsQuestCompleted(68853)">
      <GetTo ZoneId="816" XYZ="-99.34395, 101.694, -839.9088"/>
      <If Condition="IsQuestAcceptQualified(68853)">
        <PickupQuest QuestId="68853" NpcId="1027672" XYZ="-101.5183, 101.8601, -838.4985"/>
      </If>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="12.24302, 100.161, -886.3259"/>
      </If>
      <TalkTo NpcId="1027666" XYZ="13.8399, 100.161, -886.3203" QuestId="68853" StepId="1"/>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 2">
      <GetTo ZoneId="816" XYZ="449.7774, 87.33919, -694.848"/>
      <SoTalkTo NpcId="1029580" DialogOption="1" XYZ="453.0555, 87.47449, -691.9509" QuestId="68853" StepId="2"/>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 3">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="417.9727, 87.75167, -748.7742"/>
      </If>
      <MoveTo XYZ="416.8002, 87.94778, -751.0948"/>
      <RunCode Name="68853"/>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 4">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="384.3331, 86.61897, -619.7779"/>
      </If>
      <MoveTo XYZ="382.1317, 86.55059, -617.0901"/>
      <RunCode Name="68853"/>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 5">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="365.4703, 86.98999, -712.2002"/>
      </If>
      <MoveTo XYZ="364.2786, 87.00109, -715.4193" QuestId="68853"/>
      <RunCode Name="68853"/>
    </If>
    <If Condition="HasQuest(68853) and not IsQuestCompleted(68853) and GetQuestStep(68853) == 255">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="454.1667, 86.14813, -710.8237"/>
      </If>
      <TurnIn QuestId="68853" NpcId="1029577" XYZ="456.8398, 86.13955, -710.0176"/>
    </If>
    <!-- A Resounding Roar (Level 73) -->
    <If Condition="IsQuestCompleted(68853) and not HasQuest(68854) and not IsQuestCompleted(68854)">
      <GetTo ZoneId="816" XYZ="454.1667, 86.14813, -710.8237"/>
      <If Condition="IsQuestAcceptQualified(68854)">
        <PickupQuest QuestId="68854" NpcId="1029577" XYZ="456.8398, 86.13955, -710.0176"/>
      </If>
    </If>
    <If Condition="HasQuest(68854) and not IsQuestCompleted(68854) and GetQuestStep(68854) == 1">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="450.91, 87.6044, -694.7025"/>
      </If>
      <TalkTo NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814" QuestId="68854" StepId="1"/>
    </If>
    <If Condition="HasQuest(68854) and not IsQuestCompleted(68854) and GetQuestStep(68854) == 2">
      <GetTo ZoneId="816" XYZ="653.204, 102.6408, -610.7111"/>
      <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="2"/>
    </If>
    <If Condition="HasQuest(68854) and not IsQuestCompleted(68854) and GetQuestStep(68854) == 3">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="653.204, 102.6408, -610.7111"/>
      </If>
      <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="3"/>
      <WaitWhile Condition="HasQuest(68854) and not IsQuestCompleted(68854) and not GetQuestStep(68854) == 4"/>
    </If>
    <If Condition="HasQuest(68854) and not IsQuestCompleted(68854) and GetQuestStep(68854) == 4">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="652.2428, 102.3967, -609.4046"/>
      </If>
      <TalkTo NpcId="1030874" XYZ="658.442, 102.7994, -608.9113" QuestId="68854" StepId="4"/>
    </If>
    <If Condition="HasQuest(68854) and not IsQuestCompleted(68854) and GetQuestStep(68854) == 255">
      <GetTo ZoneId="816" XYZ="449.9993, 87.24177, -695.919"/>
      <TurnIn QuestId="68854" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
    </If>
    <!-- Memento of a Friend (Level 73) -->
    <If Condition="IsQuestCompleted(68854) and not HasQuest(68855) and not IsQuestCompleted(68855)">
      <GetTo ZoneId="816" XYZ="449.9993, 87.24177, -695.919"/>
      <If Condition="IsQuestAcceptQualified(68855)">
        <PickupQuest QuestId="68855" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
      </If>
    </If>
    <If Condition="HasQuest(68855) and not IsQuestCompleted(68855) and GetQuestStep(68855) == 1">
      <GetTo ZoneId="816" XYZ="50.85175, -0.6, -438.7426"/>
      <RunCode Name="68855"/>
      <UseObject NpcId="2009837" XYZ="-361.9593, -52.50635, -302.4186" QuestId="68855" StepId="1"/>
    </If>
    <If Condition="HasQuest(68855) and not IsQuestCompleted(68855) and GetQuestStep(68855) == 255">
      <GetTo ZoneId="816" XYZ="449.2203, 87.18832, -694.8893"/>
      <TurnIn ItemId="2002578" QuestId="68855" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
    </If>
    <!-- Acht-la Ormh Inn (Level 73) -->
    <If Condition="IsQuestCompleted(68855) and not HasQuest(68856) and not IsQuestCompleted(68856)">
      <GetTo ZoneId="816" XYZ="449.2203, 87.18832, -694.8893"/>
      <If Condition="IsQuestAcceptQualified(68856)">
        <PickupQuest QuestId="68856" NpcId="1027690" XYZ="452.9945, 87.48281, -691.9814"/>
      </If>
    </If>
    <If Condition="HasQuest(68856) and not IsQuestCompleted(68856) and GetQuestStep(68856) == 1">
      <GetTo ZoneId="816" XYZ="86.41762, 25.66877, -98.48716"/>
      <!--<RunCode Name="68856"/>-->
      <GetTo ZoneId="816" XYZ="-140.0103, 115.2709, -273.2854"/>
      <UseObject NpcId="2009840" XYZ="-143.3281, 116.8688, -274.1589" QuestId="68856" StepId="1"/>
    </If>
    <If Condition="HasQuest(68856) and not IsQuestCompleted(68856) and GetQuestStep(68856) == 2">
      <If Condition="not IsOnMap(816)">
        <GetTo ZoneId="816" XYZ="-142.0314, 115.2709, -273.7599"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68856) and not IsQuestCompleted(68856) and GetQuestStep(68856) == 255">
      <GetTo ZoneId="816" XYZ="-377.3563, 48.81937, 468.8152"/>
      <TurnIn QuestId="68856" NpcId="1029583" XYZ="-378.5001, 49.03859, 468.6503"/>
    </If>
    <!-- The Wheel Turns (Level 73) -->
    <If Condition="IsQuestCompleted(68856) and not HasQuest(68857) and not IsQuestCompleted(68857)">
      <GetTo ZoneId="816" XYZ="-374.2905, 48.27262, 472.4072"/>
      <If Condition="IsQuestAcceptQualified(68857)">
        <PickupQuest QuestId="68857" NpcId="1029584" XYZ="-373.5562, 48.18177, 474.3267"/>
      </If>
    </If>
    <If Condition="HasQuest(68857) and not IsQuestCompleted(68857) and GetQuestStep(68857) == 1">
      <GetTo ZoneId="819" XYZ="18.70705, 0, 0.5403592"/>
      <TalkTo NpcId="1029595" XYZ="20.6759, 0.005891658, 0.7171631" QuestId="68857" StepId="1"/>
    </If>
    <If Condition="HasQuest(68857) and not IsQuestCompleted(68857) and GetQuestStep(68857) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="18.70705, 5.960464E-08, 0.5403592"/>
      </If>
      <TalkTo NpcId="1029595" XYZ="20.6759, 0.005891658, 0.7171631" QuestId="68857" StepId="2"/>
    </If>
    <If Condition="HasQuest(68857) and not IsQuestCompleted(68857) and GetQuestStep(68857) == 255">
      <GetTo ZoneId="819" XYZ="63.24646, 1.716012, 246.9475"/>
      <SoTurnIn QuestId="68857" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
    </If>
    <!-- A Party Soon Divided (Level 74) -->
    <If Condition="IsQuestCompleted(68857) and not HasQuest(68858) and not IsQuestCompleted(68858)">
      <GetTo ZoneId="819" XYZ="62.24472, 1.716012, 248.964"/>
      <If Condition="IsQuestAcceptQualified(68858)">
        <PickupQuest QuestId="68858" NpcId="1027231" XYZ="65.35437, 1.716012, 249.8359"/>
      </If>
    </If>
    <If Condition="HasQuest(68858) and not IsQuestCompleted(68858) and GetQuestStep(68858) == 1">
      <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
      <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      <WaitWhile Condition="HasQuest(68858) and not IsQuestCompleted(68858) and not GetQuestStep(68858) == 2"/>
    </If>
    <If Condition="HasQuest(68858) and not IsQuestCompleted(68858) and GetQuestStep(68858) == 2">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TalkTo NpcId="1030883" XYZ="-0.01531982, 0, 4.28772" QuestId="68858" StepId="2"/>
    </If>
    <If Condition="HasQuest(68858) and not IsQuestCompleted(68858) and GetQuestStep(68858) == 255">
      <GetTo ZoneId="813" XYZ="751.5616, 21.38111, -4.344109"/>
      <TurnIn QuestId="68858" NpcId="1029167" XYZ="751.4609, 21.38111, -2.731445"/>
    </If>
    <!-- A Little Faith (Level 74) -->
    <If Condition="IsQuestCompleted(68858) and not HasQuest(68859) and not IsQuestCompleted(68859)">
      <GetTo ZoneId="813" XYZ="751.5616, 21.38111, -4.344109"/>
      <If Condition="IsQuestAcceptQualified(68859)">
        <PickupQuest QuestId="68859" NpcId="1029167" XYZ="751.4609, 21.38111, -2.731445"/>
      </If>
    </If>
    <If Condition="HasQuest(68859) and not IsQuestCompleted(68859) and GetQuestStep(68859) == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="725.6536, -1.993655, -94.15028"/>
      </If>
      <UseObject NpcId="2009861" XYZ="725.3986, -1.999023, -93.33948" QuestId="68859" StepId="1"/>
    </If>
    <If Condition="HasQuest(68859) and not IsQuestCompleted(68859) and GetQuestStep(68859) == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="723.1733, -1.898337, -92.94218"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68859) and not IsQuestCompleted(68859) and GetQuestStep(68859) == 255">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="700.0579, -1.707615, -94.74114"/>
      </If>
      <TurnIn QuestId="68859" NpcId="1030889" XYZ="699.4277, -1.707615, -94.52972"/>
    </If>
    <!-- Into the Dark (Level 74) -->
    <If Condition="IsQuestCompleted(68859) and not HasQuest(68860) and not IsQuestCompleted(68860)">
      <GetTo ZoneId="813" XYZ="700.0579, -1.707615, -94.74114"/>
      <If Condition="IsQuestAcceptQualified(68860)">
        <PickupQuest QuestId="68860" NpcId="1030889" XYZ="699.4277, -1.707615, -94.52972"/>
      </If>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 1">
      <GetTo ZoneId="813" XYZ="871.0352, 42.0433, -281.2524"/>
      <TalkTo NpcId="1028303" XYZ="872.7396, 42.18195, -281.2695" QuestId="68860" StepId="1"/>
      <WaitWhile Condition="HasQuest(68860) and not IsQuestCompleted(68860) and not GetQuestStep(68860) == 3"/>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-719.7007, 9.231298, 682.9153"/>
      </If>
      <TalkTo NpcId="1029180" XYZ="-718.4406, 9.072794, 682.6123" QuestId="68860" StepId="3"/>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 4">
      <GetTo ZoneId="817" XYZ="-425.3905, 1.619092, 595.9363"/>
      <UseObject NpcId="2009862" XYZ="-424.4908, 1.602173, 594.5371" QuestId="68860" StepId="4"/>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 5">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-425.3905, 1.619092, 595.9363"/>
      </If>
      <TalkTo NpcId="1029188" XYZ="-421.1643, 1.621401, 594.7203" QuestId="68860" StepId="5"/>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 6">
      <GetTo ZoneId="817" XYZ="-235.9856, -2.885211, 333.2914"/>
      <TalkTo NpcId="1029189" XYZ="-234.5159, -3.102472, 332.0211" QuestId="68860" StepId="6"/>
    </If>
    <If Condition="HasQuest(68860) and not IsQuestCompleted(68860) and GetQuestStep(68860) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-123.316, -18.98619, 297.0508"/>
      </If>
      <TurnIn QuestId="68860" NpcId="1029190" XYZ="-121.9044, -18.97577, 297.2305"/>
    </If>
    <!-- A Day in the Neighborhood (Level 74) -->
    <If Condition="IsQuestCompleted(68860) and not HasQuest(68861) and not IsQuestCompleted(68861)">
      <GetTo ZoneId="817" XYZ="-38.16271, -18.92046, 335.2363"/>
      <If Condition="IsQuestAcceptQualified(68861)">
        <SoPickupQuest QuestId="68861" NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292"/>
      </If>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-86.50735, -19.02146, 299.545"/>
      </If>
      <TalkTo NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207" QuestId="68861" StepId="1"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-117.2668, -19.70876, 384.7875"/>
      </If>
      <TalkTo NpcId="1029198" XYZ="-118.1812, -19.71302, 385.5192" QuestId="68861" StepId="2"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-117.2668, -19.70876, 384.7875"/>
      </If>
      <RunCode Name="688613"/>
      <WaitWhile Condition="HasQuest(68861) and not IsQuestCompleted(68861) and not GetQuestStep(68861) == 4"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 4 and GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 0">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-112.5699, -18.53477, 325.5354"/>
      </If>
      <MoveTo XYZ="-113.1152, -18.48463, 324.2084"/>
      <RunCode Name="688614"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 4 and GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-26.30175, -25.31891, 305.4835"/>
      </If>
      <MoveTo XYZ="-24.73492, -25.32426, 305.5924"/>
      <RunCode Name="688614"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 4 and GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-129.5815, -18.48668, 247.5631"/>
      </If>
      <MoveTo XYZ="-130.2664, -18.48668, 246.5704"/>
      <RunCode Name="688614"/>
    </If>
    <If Condition="HasQuest(68861) and not IsQuestCompleted(68861) and GetQuestStep(68861) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-115.8263, -19.70627, 385.3089"/>
      </If>
      <TurnIn QuestId="68861" NpcId="1029199" XYZ="-116.7162, -19.70673, 386.4957"/>
    </If>
    <!-- A Helping Hand (Level 74) -->
    <If Condition="IsQuestCompleted(68861) and not HasQuest(68862) and not IsQuestCompleted(68862)">
      <GetTo ZoneId="817" XYZ="-115.8263, -19.70627, 385.3089"/>
      <If Condition="IsQuestAcceptQualified(68862)">
        <PickupQuest QuestId="68862" NpcId="1029198" XYZ="-118.1812, -19.71302, 385.5192"/>
      </If>
    </If>
    <If Condition="HasQuest(68862) and not IsQuestCompleted(68862) and GetQuestStep(68862) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-113.1797, -19.59206, 387.5388"/>
      </If>
      <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456" QuestId="68862" StepId="1"/>
    </If>
    <If Condition="HasQuest(68862) and not IsQuestCompleted(68862) and GetQuestStep(68862) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
      </If>
      <If Condition="not Core.Me.HasAura(404)">
        <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456"/>
      </If>
      <UseObject NpcId="2009863" XYZ="-71.78751, -19.33637, 302.1084" QuestId="68862" StepId="2"/>
    </If>
    <If Condition="HasQuest(68862) and not IsQuestCompleted(68862) and GetQuestStep(68862) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
      </If>
      <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456" QuestId="68862" StepId="3"/>
    </If>
    <If Condition="HasQuest(68862) and not IsQuestCompleted(68862) and GetQuestStep(68862) == 4">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-113.1212, -19.59208, 387.7769"/>
      </If>
      <If Condition="not Core.Me.HasAura(404)">
        <TalkTo NpcId="1029200" XYZ="-112.9016, -19.59217, 388.8456"/>
      </If>
      <UseObject NpcId="2009864" XYZ="-71.03082, -19.39423, 293.4767" QuestId="68862" StepId="4"/>
    </If>
    <If Condition="HasQuest(68862) and not IsQuestCompleted(68862) and GetQuestStep(68862) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-79.45036, -19.13264, 299.517"/>
      </If>
      <TurnIn QuestId="68862" NpcId="1027741" XYZ="-80.33875, -19.10103, 299.8245"/>
    </If>
    <!-- Lost but Not Forgotten (Level 74) -->
    <If Condition="IsQuestCompleted(68862) and not HasQuest(68863) and not IsQuestCompleted(68863)">
      <GetTo ZoneId="817" XYZ="-86.13138, -19.02146, 298.3206"/>
      <If Condition="IsQuestAcceptQualified(68863)">
        <PickupQuest QuestId="68863" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
      </If>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 1">
      <GetTo ZoneId="817" XYZ="-260.4119, 13.82956, 553.2424"/>
      <UseObject NpcId="2009866" XYZ="-260.731, 13.6568, 554.6805" QuestId="68863" StepId="1"/>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-285.7215, 8.648677, 604.9057"/>
      </If>
      <MoveTo XYZ="-285.7215, 8.648677, 604.9057" Distance="1"/>
      <WaitWhile Condition="HasQuest(68863) and not IsQuestCompleted(68863) and not GetQuestStep(68863) == 3"/>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 3">
      <GetTo ZoneId="817" XYZ="-241.7118, 13.07346, 777.7673"/>
      <TalkTo NpcId="1029206" XYZ="-243.183, 13.32383, 778.9883" QuestId="68863" StepId="3"/>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 4">
      <GetTo ZoneId="817" XYZ="-310.1363, 7.026079, 702.9386"/>
      <UseObject NpcId="2009869" XYZ="-309.3156, 7.095398, 702.2355" QuestId="68863" StepId="4"/>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 5">
      <GetTo ZoneId="817" XYZ="-216.0518, 10.23428, 713.3605"/>
      <HandOver ItemId="2002545" NpcId="1029207" XYZ="-213.6111, 10.20786, 712.6116" QuestId="68863" StepId="5"/>
    </If>
    <If Condition="HasQuest(68863) and not IsQuestCompleted(68863) and GetQuestStep(68863) == 255">
      <GetTo ZoneId="817" XYZ="-88.99014, -19.06378, 299.2285"/>
      <TurnIn ItemId="2002545" QuestId="68863" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
    </If>
    <!-- Saying Goodbye (Level 74) -->
    <If Condition="IsQuestCompleted(68863) and not HasQuest(68864) and not IsQuestCompleted(68864)">
      <GetTo ZoneId="817" XYZ="-88.99014, -19.06378, 299.2285"/>
      <If Condition="IsQuestAcceptQualified(68864)">
        <PickupQuest QuestId="68864" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
      </If>
    </If>
    <If Condition="HasQuest(68864) and not IsQuestCompleted(68864) and GetQuestStep(68864) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-92.00209, -19.10205, 305.5115"/>
      </If>
      <TalkTo NpcId="1029209" XYZ="-92.48492, -19.11198, 307.1183" QuestId="68864" StepId="1"/>
    </If>
    <If Condition="HasQuest(68864) and not IsQuestCompleted(68864) and GetQuestStep(68864) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-76.52748, -28.63224, 422.4229"/>
      </If>
      <TalkTo NpcId="1028989" XYZ="-77.86682, -28.63224, 423.6056" QuestId="68864" StepId="2"/>
    </If>
    <If Condition="HasQuest(68864) and not IsQuestCompleted(68864) and GetQuestStep(68864) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-88.27672, -28.63224, 416.7342"/>
      </If>
      <UseItem ItemId="2002546" NpcId="2009871" XYZ="-89.49426, -28.64117, 416.0676" QuestId="68864" StepId="3"/>
    </If>
    <If Condition="HasQuest(68864) and not IsQuestCompleted(68864) and GetQuestStep(68864) == 4">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-71.03035, -28.63224, 409.8978"/>
      </If>
      <UseObject NpcId="2009872" XYZ="-69.65747, -28.64117, 409.4757" QuestId="68864" StepId="4"/>
    </If>
    <If Condition="HasQuest(68864) and not IsQuestCompleted(68864) and GetQuestStep(68864) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-38.5192, -18.90045, 334.791"/>
      </If>
      <TurnIn QuestId="68864" NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292"/>
    </If>
    <!-- Stirring up Trouble (Level 74) -->
    <If Condition="IsQuestCompleted(68864) and not HasQuest(68865) and not IsQuestCompleted(68865)">
      <GetTo ZoneId="817" XYZ="-38.5192, -18.90045, 334.791"/>
      <If Condition="IsQuestAcceptQualified(68865)">
        <PickupQuest QuestId="68865" NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292"/>
      </If>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 1">
      <GetTo ZoneId="817" XYZ="-311.427, 5.097093, 287.1707"/>
      <TalkTo NpcId="1029212" XYZ="-313.5882, 5.156485, 285.603" QuestId="68865" StepId="1"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 2">
      <GetTo ZoneId="817" XYZ="-158.3112, 7.504869, -14.55397"/>
      <WaitWhile Condition="HasQuest(68865) and not IsQuestCompleted(68865) and not GetQuestStep(68865) == 3"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-158.3112, 7.504869, -14.55397"/>
      </If>
      <UseObject NpcId="1029214" XYZ="-157.6409, 7.398206, -13.35168" QuestId="68865" StepId="3"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 4">
      <GetTo ZoneId="817" XYZ="-230.9161, 20.73055, -50.48281"/>
      <UseObject NpcId="2009874" XYZ="-231.8609, 21.71356, -49.302" QuestId="68865" StepId="4"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 5">
      <GetTo ZoneId="817" XYZ="-294.1297, 22.32833, -180.6126"/>
      <UseItem ItemId="2002547" NpcId="2009875" XYZ="-292.2561, 23.5141, -182.7574" QuestId="68865" StepId="5"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 6">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-294.1297, 22.32833, -180.6126"/>
      </If>
      <UseItem ItemId="2002548" NpcId="2010501" XYZ="-292.2866, 23.48358, -182.7878" QuestId="68865" StepId="6"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 7">
      <GetTo ZoneId="817" XYZ="-188.8327, 1.4576, 2.301648"/>
      <UseItem ItemId="2002547" NpcId="2009876" XYZ="-190.4479, 3.036438, 2.578735" QuestId="68865" StepId="7"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 8">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-188.0979, 1.699434, 2.009343"/>
      </If>
      <UseItem ItemId="2002548" NpcId="2010502" XYZ="-190.4479, 3.036438, 2.578735" QuestId="68865" StepId="8"/>
    </If>
    <If Condition="HasQuest(68865) and not IsQuestCompleted(68865) and GetQuestStep(68865) == 255">
      <GetTo ZoneId="817" XYZ="-236.5672, 19.16964, -69.52751"/>
      <TurnIn ItemId="2002549" QuestId="68865" NpcId="1029216" XYZ="-235.0958, 19.22425, -70.72565"/>
    </If>
    <!-- A Beeautiful Plan (Level 74) -->
    <If Condition="IsQuestCompleted(68865) and not HasQuest(68866) and not IsQuestCompleted(68866)">
      <GetTo ZoneId="817" XYZ="-236.5672, 19.16965, -69.52751"/>
      <If Condition="IsQuestAcceptQualified(68866)">
        <PickupQuest QuestId="68866" NpcId="1029216" XYZ="-235.0958, 19.22425, -70.72565"/>
      </If>
    </If>
    <If Condition="HasQuest(68866) and not IsQuestCompleted(68866) and GetQuestStep(68866) == 1">
      <GetTo ZoneId="817" XYZ="-701.8486, 14.32141, -46.21003"/>
      <TalkTo NpcId="1029218" XYZ="-704.4327, 14.65663, -45.5177" QuestId="68866" StepId="1"/>
    </If>
    <If Condition="HasQuest(68866) and not IsQuestCompleted(68866) and GetQuestStep(68866) == 2">
      <GetTo ZoneId="817" XYZ="-765.4466, 36.49958, -330.3241"/>
      <TalkTo NpcId="1029764" XYZ="-763.7903, 36.49958, -332.2957" QuestId="68866" StepId="2"/>
    </If>
    <If Condition="HasQuest(68866) and not IsQuestCompleted(68866) and GetQuestStep(68866) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-801.7847, 40.03511, -391.6189"/>
      </If>
      <TalkTo NpcId="1029220" XYZ="-801.4496, 40.02121, -393.6065" QuestId="68866" StepId="3"/>
    </If>
    <If Condition="HasQuest(68866) and not IsQuestCompleted(68866) and GetQuestStep(68866) == 4">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-818.3071, 38.56141, -358.0817"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68866) and not IsQuestCompleted(68866) and GetQuestStep(68866) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-524.2527, 2.848195, -36.70269"/>
      </If>
      <TurnIn QuestId="68866" NpcId="1029221" XYZ="-523.0945, 2.95893, -35.62988"/>
    </If>
    <!-- An Unwanted Proposal (Level 74) -->
    <If Condition="IsQuestCompleted(68866) and not HasQuest(68867) and not IsQuestCompleted(68867)">
      <GetTo ZoneId="817" XYZ="-524.2527, 2.848195, -36.70269"/>
      <If Condition="IsQuestAcceptQualified(68867)">
        <PickupQuest QuestId="68867" NpcId="1029221" XYZ="-523.0945, 2.95893, -35.62988"/>
      </If>
    </If>
    <If Condition="HasQuest(68867) and not IsQuestCompleted(68867) and GetQuestStep(68867) == 1">
      <GetTo ZoneId="817" XYZ="-89.57124, -19.08071, 296.4792"/>
      <TalkTo NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207" QuestId="68867" StepId="1"/>
    </If>
    <If Condition="HasQuest(68867) and not IsQuestCompleted(68867) and GetQuestStep(68867) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-78.46378, -19.17026, 311.6172"/>
      </If>
      <UseObject NpcId="2009878" XYZ="-78.90448, -19.27222, 312.4895" QuestId="68867" StepId="2"/>
    </If>
    <If Condition="HasQuest(68867) and not IsQuestCompleted(68867) and GetQuestStep(68867) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-38.77283, -18.90045, 334.3017"/>
      </If>
      <TurnIn QuestId="68867" NpcId="1029195" XYZ="-35.75189, -18.91939, 335.7137"/>
    </If>
    <!-- Put to the Proof (Level 74) -->
    <If Condition="IsQuestCompleted(68867) and not HasQuest(68868) and not IsQuestCompleted(68868)">
      <GetTo ZoneId="817" XYZ="-38.77283, -18.90045, 334.3017"/>
      <If Condition="IsQuestAcceptQualified(68868)">
        <PickupQuest QuestId="68868" NpcId="1029195" XYZ="-35.75189, -18.91939, 335.7137"/>
      </If>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 1">
      <GetTo ZoneId="817" XYZ="-468.6848, 2.675845, 301.245"/>
      <TalkTo NpcId="1029223" XYZ="-470.9697, 2.3035, 301.4724" QuestId="68868" StepId="1"/>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 2">
      <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
      <RunCode Name="688682"/>
      <SoTalkTo NpcId="2009879" XYZ="-591.9738, -90.56238, 291.6151" QuestId="68868" StepId="2"/>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 3">
      <If Condition="not MovementManager.IsDiving">
        <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
        <RunCode Name="688682"/>
      </If>
      <RunCode Name="688683"/>
      <SoTalkTo NpcId="2009880" XYZ="-670.2526, -90.68439, 449.9427" QuestId="68868" StepId="3"/>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 4">
      <If Condition="not MovementManager.IsDiving">
        <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
        <RunCode Name="688682"/>
        <RunCode Name="688683"/>
      </If>
      <RunCode Name="688684"/>
      <SoTalkTo NpcId="2009882" XYZ="-880.1556, -90.68439, 289.9977" QuestId="68868" StepId="4"/>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 5">
      <If Condition="not MovementManager.IsDiving">
        <GetTo ZoneId="817" XYZ="-589.2023, -0.5999999, 275.3768"/>
        <RunCode Name="688682"/>
        <RunCode Name="688683"/>
        <RunCode Name="688684"/>
      </If>
      <RunCode Name="688685"/>
      <SoTalkTo NpcId="2009884" XYZ="-593.164, -95.23157, 256.0005" QuestId="68868" StepId="5"/>
    </If>
    <If Condition="HasQuest(68868) and not IsQuestCompleted(68868) and GetQuestStep(68868) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="-472.1012, 2.099238, 301.9255"/>
      </If>
      <If Condition="MovementManager.IsDiving">
        <RunCode Name="68868255"/>
      </If>
      <TurnIn ItemId="2002550" QuestId="68868" NpcId="1029223" XYZ="-470.9697, 2.3035, 301.4724"/>
    </If>
    <!-- Into the Wood (Level 75) -->
    <If Condition="IsQuestCompleted(68868) and not HasQuest(68869) and not IsQuestCompleted(68869)">
      <GetTo ZoneId="817" XYZ="-472.7278, 2.050346, 301.6569"/>
      <If Condition="IsQuestAcceptQualified(68869)">
        <PickupQuest QuestId="68869" NpcId="1029223" XYZ="-470.9697, 2.3035, 301.4724"/>
      </If>
    </If>
    <If Condition="HasQuest(68869) and not IsQuestCompleted(68869) and GetQuestStep(68869) == 1">
      <GetTo ZoneId="817" XYZ="-9.85315, 0.7475371, 205.32"/>
      <TalkTo NpcId="1029224" XYZ="-7.492188, 0.7475371, 205.4016" QuestId="68869" StepId="1"/>
    </If>
    <If Condition="HasQuest(68869) and not IsQuestCompleted(68869) and GetQuestStep(68869) == 2">
      <GetTo ZoneId="817" XYZ="286.555, -0.1910915, 223.237"/>
      <UseObject NpcId="2009886" XYZ="288.197, -0.1068726, 221.6677" QuestId="68869" StepId="2"/>
    </If>
    <If Condition="HasQuest(68869) and not IsQuestCompleted(68869) and GetQuestStep(68869) == 255">
      <GetTo ZoneId="817" XYZ="456.0369, 18.97871, -55.67069"/>
      <TurnIn QuestId="68869" NpcId="1029228" XYZ="454.8867, 18.97871, -57.14508"/>
    </If>
    <!-- Top of the Tree (Level 75) -->
    <If Condition="IsQuestCompleted(68869) and not HasQuest(68870) and not IsQuestCompleted(68870)">
      <GetTo ZoneId="817" XYZ="456.0369, 18.97871, -55.67069"/>
      <If Condition="IsQuestAcceptQualified(68870)">
        <PickupQuest QuestId="68870" NpcId="1030374" XYZ="452.9333, 18.97871, -56.96198"/>
      </If>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="451.2815, 33.66181, -156.8034"/>
      </If>
      <TalkTo NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696" QuestId="68870" StepId="1"/>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 2 and GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="428.6209, 33.83217, -113.3862"/>
      </If>
      <TalkTo NpcId="1027711" XYZ="429.8618, 34.05174, -114.8547" QuestId="68870"/>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 2 and GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="452.6311, 6.955061, -194.3491"/>
      </If>
      <TalkTo NpcId="1027712" XYZ="454.1847, 6.955061, -193.0724" QuestId="68870"/>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 2 and GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="336.7299, 7.960763, -143.0307"/>
      </If>
      <TalkTo NpcId="1027717" XYZ="334.1877, 7.960763, -141.4664" QuestId="68870"/>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 2 and GetQuestById(68870).GetTodoArgs(2, 0).Item1 == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="305.2731, 34.24282, -147.8935"/>
      </If>
      <TalkTo NpcId="1027719" XYZ="303.5172, 34.24282, -146.6545" QuestId="68870"/>
    </If>
    <If Condition="HasQuest(68870) and not IsQuestCompleted(68870) and GetQuestStep(68870) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="451.3877, 33.66181, -157.8517"/>
      </If>
      <TurnIn ItemId="2002551" QuestId="68870" NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696"/>
    </If>
    <!-- Top of the Tree (Level 75) -->
    <If Condition="IsQuestCompleted(68870) and not HasQuest(68871) and not IsQuestCompleted(68871)">
      <GetTo ZoneId="817" XYZ="451.3877, 33.66181, -157.8517"/>
      <If Condition="IsQuestAcceptQualified(68871)">
        <PickupQuest QuestId="68871" NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696"/>
      </If>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 1">
      <GetTo ZoneId="817" XYZ="207.2146, -5.82502, -351.2257"/>
      <TalkTo NpcId="1029238" XYZ="206.5613, -6.300962, -352.4682" QuestId="68871" StepId="1"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 2">
      <GetTo ZoneId="817" XYZ="169.6709, -19.94671, -453.0002"/>
      <TalkTo NpcId="1030944" XYZ="169.604, -19.98162, -455.5276" QuestId="68871" StepId="2"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 0">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="148.5226, -19.26303, -427.2848"/>
      </If>
      <MoveTo XYZ="148.5226, -19.26303, -427.2848" Distance="1"/>
      <RunCode Name="68871"/>
      <UseItem ItemId="2002552" NpcId="2009887" XYZ="124.3762, 10.87964, -429.4346" Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 0"/>
      <MoveTo XYZ="149.5139, -19.26999, -427.4168" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="193.5523, -19.16317, -427.3897"/>
      </If>
      <MoveTo XYZ="193.5523, -19.16317, -427.3897" Distance="1"/>
      <RunCode Name="68871"/>
      <UseItem ItemId="2002552" NpcId="2009890" XYZ="218.4634, 10.5744, -425.2537" Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 1"/>
      <MoveTo XYZ="193.6682, -19.1361, -427.0147" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="195.6621, -19.64349, -516.6057"/>
      </If>
      <MoveTo XYZ="195.6621, -19.64349, -516.6057" Distance="1"/>
      <RunCode Name="68871"/>
      <UseItem ItemId="2002552" NpcId="2009889" XYZ="218.9211, 8.957031, -514.4579" Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 2"/>
      <MoveTo XYZ="194.5647, -19.67619, -516.3932" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="144.2598, -20, -508.2463"/>
      </If>
      <MoveTo XYZ="144.2598, -20, -508.2463" Distance="1"/>
      <RunCode Name="68871"/>
      <UseItem ItemId="2002552" NpcId="2009888" XYZ="119.9207, 10.69653, -510.5211" Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 3 and GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 3"/>
      <MoveTo XYZ="144.2598, -20, -508.2463" Distance="1" UseMesh="False"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 4">
      <GetTo ZoneId="817" XYZ="175.7899, -19.6145, -533.0338"/>
      <HandOver ItemId="2002846" NpcId="1029241" XYZ="177.203, -19.54451, -533.5317" QuestId="68871" StepId="4"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 5">
      <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
      <SelectStringOverride Index="3"/>
      <SoTalkTo NpcId="1030946" XYZ="174.8342, -19.58986, -534.7708" QuestId="68871" StepId="5"/>
    </If>
    <If Condition="HasQuest(68871) and not IsQuestCompleted(68871) and GetQuestStep(68871) == 255">
      <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
      <TurnIn QuestId="68871" NpcId="1029240" XYZ="173.2356, -19.58539, -536.8276"/>
    </If>
    <!-- Mi Casa, Toupasa (Level 75) -->
    <If Condition="IsQuestCompleted(68871) and not HasQuest(68872) and not IsQuestCompleted(68872)">
      <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
      <If Condition="IsQuestAcceptQualified(68872)">
        <PickupQuest QuestId="68872" NpcId="1029240" XYZ="173.2356, -19.58539, -536.8276"/>
      </If>
    </If>
    <If Condition="HasQuest(68872) and not IsQuestCompleted(68872) and GetQuestStep(68872) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
      </If>
      <!-- Bad Mesh -->
      <RunCode Name="688721"/>
      <!--<GetTo ZoneId="817" XYZ="121.0243, -8.781985, -891.2568"/>-->
      <TalkTo NpcId="1029242" XYZ="122.6978, -8.781985, -891.4168" QuestId="68872" StepId="1"/>
    </If>
    <If Condition="HasQuest(68872) and not IsQuestCompleted(68872) and GetQuestStep(68872) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
      </If>
      <!--<GetTo ZoneId="817" XYZ="217.7762, 11.20001, -711.9302"/>-->
      <RunCode Name="688722"/>
      <UseObject NpcId="2010218" XYZ="220.1724, 12.4361, -711.9707" QuestId="68872" StepId="2"/>
    </If>
    <If Condition="HasQuest(68872) and not IsQuestCompleted(68872) and GetQuestStep(68872) == 3">
      <If Condition="not Core.Me.HasAura(404)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <RunCode Name="688722"/>
        <!--<GetTo ZoneId="817" XYZ="217.7762, 11.20001, -711.9302"/>-->
        <UseObject NpcId="2010218" XYZ="220.1724, 12.4361, -711.9707" Condition="not Core.Me.HasAura(404)"/>
      </If>
      <RunCode Name="688723"/>
      <UseObject NpcId="2010217" XYZ="115.4344, -7.400635, -895.4757" QuestId="68872" StepId="3"/>
    </If>
    <If Condition="HasQuest(68872) and not IsQuestCompleted(68872) and GetQuestStep(68872) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
      </If>
      <TurnIn QuestId="68872" NpcId="1029242" XYZ="122.6978, -8.781985, -891.4168"/>
    </If>
    <!-- Legend of the Not-so-hidden Temple (Level 75)  -->
    <If Condition="IsQuestCompleted(68872) and not HasQuest(68873) and not IsQuestCompleted(68873)">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
      </If>
      <If Condition="IsQuestAcceptQualified(68873)">
        <PickupQuest QuestId="68873" NpcId="1029242" XYZ="122.6978, -8.781985, -891.4168"/>
      </If>
    </If>
    <If Condition="HasQuest(68873) and not IsQuestCompleted(68873) and GetQuestStep(68873) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="174.8342, -19.58986, -534.7708"/>
        <!-- Bad Mesh -->
        <RunCode Name="688721"/>
        <!--<GetTo ZoneId="817" XYZ="120.0231, -8.781985, -891.4398"/>-->
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68873) and not IsQuestCompleted(68873) and GetQuestStep(68873) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="169.8996, -19.72804, -536.5112"/>
      </If>
      <TurnIn QuestId="68873" NpcId="1029244" XYZ="171.1909, -19.76173, -534.0505"/>
    </If>
    <!-- The Aftermath (Level 75) -->
    <If Condition="IsQuestCompleted(68873) and not HasQuest(68874) and not IsQuestCompleted(68874)">
      <GetTo ZoneId="817" XYZ="169.8996, -19.72804, -536.5112"/>
      <If Condition="IsQuestAcceptQualified(68874)">
        <PickupQuest QuestId="68874" NpcId="1029247" XYZ="166.9185, -19.85626, -535.1797"/>
      </If>
    </If>
    <If Condition="HasQuest(68874) and not IsQuestCompleted(68874) and GetQuestStep(68874) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.8891, 6.955061, -205.045"/>
      </If>
      <TalkTo NpcId="1029249" XYZ="449.8817, 6.955061, -208.7587" QuestId="68874" StepId="1"/>
    </If>
    <If Condition="HasQuest(68874) and not IsQuestCompleted(68874) and GetQuestStep(68874) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.8891, 6.955061, -205.045"/>
      </If>
      <UseItem ItemId="2002553" NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="2"/>
    </If>
    <If Condition="HasQuest(68874) and not IsQuestCompleted(68874) and GetQuestStep(68874) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      </If>
      <UseObject NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="3"/>
    </If>
    <If Condition="HasQuest(68874) and not IsQuestCompleted(68874) and GetQuestStep(68874) == 4">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      </If>
      <UseObject NpcId="1029250" XYZ="448.2948, 7.479243, -208.1484" QuestId="68874" StepId="4"/>
    </If>
    <If Condition="HasQuest(68874) and not IsQuestCompleted(68874) and GetQuestStep(68874) == 255">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      </If>
      <TurnIn QuestId="68874" NpcId="1029249" XYZ="449.8817, 6.955061, -208.7587"/>
    </If>
    <!-- In Good Faith (Level 75) -->
    <If Condition="IsQuestCompleted(68874) and not HasQuest(68875) and not IsQuestCompleted(68875)">
      <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      <If Condition="IsQuestAcceptQualified(68875)">
        <PickupQuest QuestId="68875" NpcId="1029249" XYZ="449.8817, 6.955061, -208.7587"/>
      </If>
    </If>
    <If Condition="HasQuest(68875) and not IsQuestCompleted(68875) and GetQuestStep(68875) == 1">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="450.3094, 6.955061, -206.3256"/>
      </If>
      <TalkTo NpcId="1029251" XYZ="450.0037, 6.955061, -202.3804" QuestId="68875" StepId="1"/>
    </If>
    <If Condition="HasQuest(68875) and not IsQuestCompleted(68875) and GetQuestStep(68875) == 2">
      <GetTo ZoneId="817" XYZ="579.7407, 18.75851, -44.72193"/>
      <RunCode Name="68875"/>
      <WaitWhile Condition="HasQuest(68875) and not IsQuestCompleted(68875) and not GetQuestStep(68875) == 3"/>
    </If>
    <If Condition="HasQuest(68875) and not IsQuestCompleted(68875) and GetQuestStep(68875) == 3">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="579.7407, 18.75851, -44.72193"/>
      </If>
      <UseObject NpcId="2009892" XYZ="580.9263, 18.75323, -43.01526" QuestId="68875" StepId="3"/>
    </If>
    <If Condition="HasQuest(68875) and not IsQuestCompleted(68875) and GetQuestStep(68875) == 4">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="582.9424, 18.38379, -58.98642"/>
      </If>
      <SoTalkTo NpcId="1029554" XYZ="585.7174, 18.38616, -59.18976" QuestId="68875" StepId="4"/>
    </If>
    <If Condition="HasQuest(68875) and not IsQuestCompleted(68875) and GetQuestStep(68875) == 255">
      <GetTo ZoneId="817" XYZ="451.6051, 6.955061, -203.6617"/>
      <TurnIn QuestId="68875" NpcId="1029555" XYZ="453.2692, 6.955061, -204.3947"/>
    </If>
    <!-- The Burden of Knowledge (Level 75) -->
    <If Condition="IsQuestCompleted(68875) and not HasQuest(68876) and not IsQuestCompleted(68876)">
      <GetTo ZoneId="817" XYZ="451.6051, 6.955061, -203.6617"/>
      <If Condition="IsQuestAcceptQualified(68876)">
        <PickupQuest QuestId="68876" NpcId="1029255" XYZ="453.6964, 6.955061, -201.1597"/>
      </If>
    </If>
    <If Condition="HasQuest(68876) and not IsQuestCompleted(68876) and GetQuestStep(68876) == 1">
      <GetTo ZoneId="817" XYZ="852.7293, -65.42493, -393.7355"/>
      <UseObject NpcId="2009893" XYZ="854.3984, -63.85907, -394.4305" QuestId="68876" StepId="1"/>
    </If>
    <If Condition="HasQuest(68876) and not IsQuestCompleted(68876) and GetQuestStep(68876) == 2">
      <If Condition="not IsOnMap(817)">
        <GetTo ZoneId="817" XYZ="852.7293, -65.42493, -393.7355"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(68876) and not IsQuestCompleted(68876) and GetQuestStep(68876) == 255">
      <If Condition="not IsOnMap(617)">
        <GetTo ZoneId="817" XYZ="849.2484, -65.42493, -391.7697"/>
      </If>
      <TurnIn QuestId="68876" NpcId="1029557" XYZ="848.7831, -65.42493, -394.6746"/>
    </If>
    <!-- Bearing With It (Level 75) -->
    <If Condition="IsQuestCompleted(68876) and not HasQuest(68877) and not IsQuestCompleted(68877)">
      <GetTo ZoneId="817" XYZ="849.2484, -65.42493, -391.7697"/>
      <If Condition="IsQuestAcceptQualified(68877)">
        <PickupQuest QuestId="68877" NpcId="1029557" XYZ="848.7831, -65.42493, -394.6746"/>
      </If>
    </If>
    <If Condition="HasQuest(68877) and not IsQuestCompleted(68877) and GetQuestStep(68877) == 1">
      <GetTo ZoneId="817" XYZ="451.7372, 33.66181, -157.6828"/>
      <TalkTo NpcId="1029231" XYZ="453.0555, 33.66181, -156.9696" QuestId="68877" StepId="1"/>
    </If>
    <If Condition="HasQuest(68877) and not IsQuestCompleted(68877) and GetQuestStep(68877) == 255">
      <GetTo ZoneId="817" XYZ="-89.28886, -19.07656, 297.5061"/>
      <TurnIn QuestId="68877" NpcId="1029197" XYZ="-87.87671, -19.02213, 298.207"/>
    </If>
    <!-- Out of the Wood (Level 76) -->
    <If Condition="IsQuestCompleted(68877) and not HasQuest(68878) and not IsQuestCompleted(68878)">
      <GetTo ZoneId="817" XYZ="-90.31696, -19.09831, 295.4149"/>
      <If Condition="IsQuestAcceptQualified(68878)">
        <PickupQuest QuestId="68878" NpcId="1029011" XYZ="-88.82281, -19.0532, 296.6506"/>
      </If>
    </If>
    <If Condition="HasQuest(68878) and not IsQuestCompleted(68878) and GetQuestStep(68878) == 1">
      <If Condition="not IsOnMap(617)">
        <GetTo ZoneId="817" XYZ="-38.43863, -18.90045, 334.9906"/>
      </If>
      <TalkTo NpcId="1029194" XYZ="-37.2168, -18.92046, 336.6292" QuestId="68878" StepId="1"/>
    </If>
    <If Condition="HasQuest(68878) and not IsQuestCompleted(68878) and GetQuestStep(68878) == 2">
      <If Condition="not IsOnMap(617)">
        <GetTo ZoneId="817" XYZ="-258.5579, -2.444983, 332.8816"/>
      </If>
      <UseObject NpcId="2009894" XYZ="-259.5103, -2.395752, 332.8145" QuestId="68878" StepId="2"/>
    </If>
    <If Condition="HasQuest(68878) and not IsQuestCompleted(68878) and GetQuestStep(68878) == 3">
      <GetTo ZoneId="819" XYZ="27.58623, 0, 1.84133"/>
      <TalkTo NpcId="1029558" XYZ="28.73267, 0, 1.87677" QuestId="68878" StepId="3"/>
    </If>
    <If Condition="HasQuest(68878) and not IsQuestCompleted(68878) and GetQuestStep(68878) == 255">
      <GetTo ZoneId="819" XYZ="63.16325, 1.716012, 247.3455"/>
      <SoTurnIn QuestId="68878" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
    </If>
    <!-- When It Rains (Level 76) -->
    <If Condition="IsQuestCompleted(68878) and not HasQuest(69142) and not IsQuestCompleted(69142)">
      <GetTo ZoneId="819" XYZ="62.80261, 1.716012, 251.9886"/>
      <If Condition="IsQuestAcceptQualified(69142)">
        <PickupQuest QuestId="69142" NpcId="1027231" XYZ="65.35437, 1.716012, 249.8359"/>
      </If>
    </If>
    <If Condition="HasQuest(69142) and not IsQuestCompleted(69142) and GetQuestStep(69142) == 1">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="25.82332, 0, 74.71614"/>
      </If>
      <UseObject NpcId="2009895" XYZ="26.04712, -0.01531982, 73.92993" QuestId="69142" StepId="1"/>
    </If>
    <If Condition="HasQuest(69142) and not IsQuestCompleted(69142) and GetQuestStep(69142) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-223.4699, 20.13131, -57.55558"/>
      </If>
      <UseObject NpcId="2009896" XYZ="-224.445, 21.37787, -58.06067" QuestId="69142" StepId="2"/>
    </If>
    <If Condition="HasQuest(69142) and not IsQuestCompleted(69142) and GetQuestStep(69142) == 3">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-223.41, 20.13131, 57.77267"/>
      </If>
      <UseObject NpcId="2009897" XYZ="-224.4755, 21.22528, 58.03003" QuestId="69142" StepId="3"/>
    </If>
    <If Condition="HasQuest(69142) and not IsQuestCompleted(69142) and GetQuestStep(69142) == 4">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-104.0521, 20, 12.53967"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69142) and not IsQuestCompleted(69142) and GetQuestStep(69142) == 255">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-705.9352, 51.50115, -242.0136"/>
      </If>
      <TurnIn QuestId="69142" NpcId="1029601" XYZ="-707.5456, 51.50115, -241.5656"/>
    </If>
    <!-- Word from On High (Level 76) -->
    <If Condition="IsQuestCompleted(69142) and not HasQuest(69143) and not IsQuestCompleted(69143)">
      <GetTo ZoneId="813" XYZ="-705.9352, 51.50115, -242.0136"/>
      <If Condition="IsQuestAcceptQualified(69143)">
        <PickupQuest QuestId="69143" NpcId="1029601" XYZ="-707.5456, 51.50115, -241.5656"/>
      </If>
    </If>
    <If Condition="HasQuest(69143) and not IsQuestCompleted(69143) and GetQuestStep(69143) == 1 and GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 0">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
      </If>
      <TalkTo NpcId="1030314" XYZ="-690.0587, 52.7832, -302.205" QuestId="69143"/>
    </If>
    <If Condition="HasQuest(69143) and not IsQuestCompleted(69143) and GetQuestStep(69143) == 1 and GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 1">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
      </If>
      <TalkTo NpcId="1030313" XYZ="-649.134, 53.2081, -178.0881" QuestId="69143"/>
    </If>
    <If Condition="HasQuest(69143) and not IsQuestCompleted(69143) and GetQuestStep(69143) == 1 and GetQuestById(69143).GetTodoArgs(1, 0).Item1 == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-690.3859, 52.7832, -299.1367"/>
      </If>
      <TalkTo NpcId="1030312" XYZ="-694.0261, 52.60457, -124.7425" QuestId="69143"/>
    </If>
    <If Condition="HasQuest(69143) and not IsQuestCompleted(69143) and GetQuestStep(69143) == 255">
      <GetTo ZoneId="813" XYZ="-732.9548, 52.60457, -146.6566"/>
      <TurnIn QuestId="69143" NpcId="1029606" XYZ="-734.5541, 52.60457, -147.1123"/>
    </If>
    <!-- Small Favors (Level 76) -->
    <If Condition="IsQuestCompleted(69143) and not HasQuest(69144) and not IsQuestCompleted(69144)">
      <GetTo ZoneId="813" XYZ="-727.5766, 52.60456, -149.2348"/>
      <If Condition="IsQuestAcceptQualified(69144)">
        <PickupQuest QuestId="69144" NpcId="1030587" XYZ="-728.0537, 52.60456, -146.3493"/>
      </If>
    </If>
    <If Condition="HasQuest(69144) and not IsQuestCompleted(69144) and GetQuestStep(69144) == 1">
      <GetTo ZoneId="819" XYZ="-30.95235, -0.65, -44.39217"/>
      <TalkTo NpcId="1029607" XYZ="-32.79169, -0.6250627, -44.66321" QuestId="69144" StepId="1"/>
    </If>
    <If Condition="HasQuest(69144) and not IsQuestCompleted(69144) and GetQuestStep(69144) == 2">
      <GetTo ZoneId="819" XYZ="-119.9236, -47.55994, -166.3823"/>
      <TalkTo NpcId="1029608" XYZ="-120.8362, -47.55994, -166.1556" QuestId="69144" StepId="2"/>
    </If>
    <If Condition="HasQuest(69144) and not IsQuestCompleted(69144) and GetQuestStep(69144) == 3">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-119.9236, -47.55994, -166.3823"/>
      </If>
      <RunCode Name="69144"/>
    </If>
    <If Condition="HasQuest(69144) and not IsQuestCompleted(69144) and GetQuestStep(69144) == 4">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-141.9851, -45.72086, -155.5366"/>
      </If>
      <UseObject NpcIds="2009900,2009899" QuestId="69144" StepId="4">
        <HotSpots>
          <HotSpot XYZ="-136.6445, -46.00598, -183.6729" Radius="10"/>
          <HotSpot XYZ="-140.9781, -44.75476, -156.6644" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(69144) and not IsQuestCompleted(69144) and GetQuestStep(69144) == 255">
      <GetTo ZoneId="819" XYZ="-28.61159, -0.65, -50.10339"/>
      <TurnIn ItemId="2002555" QuestId="69144" NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823"/>
    </If>
    <!-- The Best Way Out (Level 76) -->
    <If Condition="IsQuestCompleted(69144) and not HasQuest(69145) and not IsQuestCompleted(69145)">
      <GetTo ZoneId="819" XYZ="-28.61159, -0.65, -50.10339"/>
      <If Condition="IsQuestAcceptQualified(69145)">
        <PickupQuest QuestId="69145" NpcId="1029853" XYZ="-30.99109, -0.6499997, -49.69867"/>
      </If>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 1">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <SoTalkTo NpcId="1028923" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="69145" StepId="1"/>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 2">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.9231, 14.64907, 6.388192"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TalkTo NpcId="1029597" XYZ="2.487183, -7.450581E-09, 1.51062" QuestId="69145" StepId="2"/>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 3">
      <If Condition="not IsOnMap(819)">
        <If Condition="IsOnMap(844)">
          <UseTransport InteractDistance="3.0" NpcId="2009758" XYZ="-0.01531982, 1.022339, 14.20605"/>
        </If>
        <GetTo ZoneId="819" XYZ="-176.9135, 0, -0.3326983"/>
      </If>
      <UseObject NpcId="2009903" XYZ="-177.5693, -0.01531982, -0.3815308" QuestId="69145" StepId="3"/>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 4">
      <GetTo ZoneId="813" XYZ="577.3132, 6.635094, 635.2165"/>
      <TalkTo NpcId="1029611" XYZ="576.9589, 6.697608, 636.7131" QuestId="69145" StepId="4"/>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 5">
      <GetTo ZoneId="813" XYZ="526.7331, -5.232692, 851.1409"/>
      <TalkTo NpcId="1028305" XYZ="525.658, -5.232692, 854.2457" QuestId="69145" StepId="5"/>
      <WaitWhile Condition="HasQuest(69145) and not IsQuestCompleted(69145) and not GetQuestStep(69145) == 255"/>
    </If>
    <If Condition="HasQuest(69145) and not IsQuestCompleted(69145) and GetQuestStep(69145) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-555.7542, 36.31599, -669.1152"/>
      </If>
      <TurnIn QuestId="69145" NpcId="1029614" XYZ="-554.1314, 35.8008, -669.7032"/>
    </If>
    <!-- Free Trade (Level 76) -->
    <If Condition="IsQuestCompleted(69145) and not HasQuest(69146) and not IsQuestCompleted(69146)">
      <GetTo ZoneId="815" XYZ="-555.7542, 36.31599, -669.1152"/>
      <If Condition="IsQuestAcceptQualified(69146)">
        <PickupQuest QuestId="69146" NpcId="1029615" XYZ="-556.6949, 36.58642, -670.0695"/>
      </If>
    </If>
    <If Condition="HasQuest(69146) and not IsQuestCompleted(69146) and GetQuestStep(69146) == 1">
      <GetTo ZoneId="815" XYZ="-404.8435, -20.25974, -589.8311"/>
      <TalkTo NpcId="1030438" XYZ="-403.6774, -20.21407, -589.9901" QuestId="69146" StepId="1"/>
    </If>
    <If Condition="HasQuest(69146) and not IsQuestCompleted(69146) and GetQuestStep(69146) == 2 and GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-389.7589, -17.72485, -584.7122"/>
      </If>
      <TalkTo NpcId="1027918" XYZ="-389.7612, -17.72484, -586.1448" QuestId="69146"/>
    </If>
    <If Condition="HasQuest(69146) and not IsQuestCompleted(69146) and GetQuestStep(69146) == 2 and GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-405.1766, -17.85281, -550.7883"/>
      </If>
      <TalkTo NpcId="1027919" XYZ="-404.5015, -17.85281, -549.9504" QuestId="69146"/>
    </If>
    <If Condition="HasQuest(69146) and not IsQuestCompleted(69146) and GetQuestStep(69146) == 2 and GetQuestById(69146).GetTodoArgs(2, 0).Item1 == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-445.3577, -20.03782, -555.4911"/>
      </If>
      <TalkTo NpcId="1027917" XYZ="-448.3559, -20.01652, -554.6807" QuestId="69146"/>
    </If>
    <If Condition="HasQuest(69146) and not IsQuestCompleted(69146) and GetQuestStep(69146) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-422.5355, -20.14536, -578.1143"/>
      </If>
      <SoTurnIn ItemIds="2002556,2002557,2002558" QuestId="69146" NpcId="1029617" DialogOption="2" XYZ="-419.3942, -20.14579, -578.8815"/>
    </If>
    <!-- The Trolley Problem (Level 76) -->
    <If Condition="IsQuestCompleted(69146) and not HasQuest(69147) and not IsQuestCompleted(69147)">
      <GetTo ZoneId="815" XYZ="-405.1667, -20.23014, -589.2198"/>
      <If Condition="IsQuestAcceptQualified(69147)">
        <PickupQuest QuestId="69147" NpcId="1030438" XYZ="-403.6774, -20.21407, -589.9901"/>
      </If>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 1">
	  <GetTo ZoneId="815" XYZ="-493.2674, 45.59068, -217.0783"/>
      <GetTo ZoneId="815" XYZ="-459.9622, -1.244542, -371.7602"/>
      <TalkTo NpcId="1030947" XYZ="-459.9622, -1.244542, -371.7602" QuestId="69147" StepId="1"/>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 2">
      <GetTo ZoneId="815" XYZ="-3.106345, 45.61908, -582.3674"/>
      <TalkTo NpcId="1029620" XYZ="-2.090576, 45.61908, -583.4897" QuestId="69147" StepId="2"/>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-3.106345, 45.61908, -582.3674"/>
      </If>
      <UseObject NpcIds="2009906,2009904,2009905" QuestId="69147" StepId="3">
        <HotSpots>
          <HotSpot XYZ="-0.7172241, 48.72205, -529.8085" Radius="10"/>
          <HotSpot XYZ="19.82141, 46.18909, -575.0973" Radius="10"/>
          <HotSpot XYZ="13.44318, 47.89807, -618.1277" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 4">
      <GetTo ZoneId="815" XYZ="81.10422, 45.65749, -638.9812"/>
      <TalkTo NpcId="1029622" XYZ="80.33875, 45.62259, -641.5351" QuestId="69147" StepId="4"/>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 5">
      <GetTo ZoneId="815" XYZ="-62.91722, 45.61908, -603.2533"/>
      <TalkTo NpcId="1029623" XYZ="-62.76044, 45.61908, -606.3783" QuestId="69147"/>
      <WaitWhile Condition="HasQuest(69147) and not IsQuestCompleted(69147) and not GetQuestStep(69147) == 255"/>
    </If>
    <If Condition="HasQuest(69147) and not IsQuestCompleted(69147) and GetQuestStep(69147) == 255">
      <GetTo ZoneId="815" XYZ="89.05998, 45.71687, -599.6733"/>
      <TurnIn QuestId="69147" NpcId="1029624" XYZ="90.19604, 45.72853, -598.9014"/>
    </If>
    <!-- Rust and Ruin (Level 76) -->
    <If Condition="IsQuestCompleted(69147) and not HasQuest(69148) and not IsQuestCompleted(69148)">
      <GetTo ZoneId="815" XYZ="89.05998, 45.71687, -599.6733"/>
      <If Condition="IsQuestAcceptQualified(69148)">
        <PickupQuest QuestId="69148" NpcId="1029629" XYZ="88.48706, 45.73705, -595.9106"/>
      </If>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 1">
      <GetTo ZoneId="815" XYZ="-92.97266, 41.43798, -538.6989"/>
      <TalkTo NpcId="1029631" XYZ="-94.65173, 41.25798, -537.5906" QuestId="69148" StepId="1"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 2">
      <GetTo ZoneId="815" XYZ="-135.9536, 28.88254, -377.2365"/>
      <TalkTo NpcId="1029632" XYZ="-136.3699, 28.48048, -374.9905" QuestId="69148" StepId="2"/>
      <WaitWhile Condition="Core.Me.InCombat"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 3">
      <GetTo ZoneId="815" XYZ="-276.3764, 18.8688, -244.253"/>
      <WaitWhile Condition="HasQuest(69148) and not IsQuestCompleted(69148) and not GetQuestStep(69148) == 4"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-276.3764, 18.8688, -244.253"/>
      </If>
      <TalkTo NpcId="1029633" XYZ="-278.0347, 19.06778, -249.1951" QuestId="69148" StepId="4"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 5">
      <GetTo ZoneId="815" XYZ="-477.8716, 44.9727, -214.0533"/>
      <TalkTo NpcId="1029634" XYZ="-479.7895, 45.16138, -213.6416" QuestId="69148" StepId="5"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 6">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-479.2991, 47.7777, -191.1592"/>
      </If>
      <TalkTo NpcId="1029635" XYZ="-479.4537, 47.7777, -189.7765" QuestId="69148" StepId="6"/>
    </If>
    <If Condition="HasQuest(69148) and not IsQuestCompleted(69148) and GetQuestStep(69148) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-483.3396, 45.54626, -209.5282"/>
      </If>
      <TurnIn QuestId="69148" NpcId="1029637" XYZ="-483.238, 45.47338, -211.3222"/>
    </If>
    <!-- On Track (Level 76) -->
    <If Condition="IsQuestCompleted(69148) and not HasQuest(69149) and not IsQuestCompleted(69149)">
      <GetTo ZoneId="815" XYZ="-483.1545, 45.54557, -209.5177"/>
      <If Condition="IsQuestAcceptQualified(69149)">
        <PickupQuest QuestId="69149" NpcId="1029637" XYZ="-483.238, 45.47338, -211.3222"/>
      </If>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-544.5434, 45.43337, -230.0736"/>
      </If>
      <TalkTo NpcId="1029640" XYZ="-545.3116, 45.51285, -230.6402" QuestId="69149" StepId="1"/>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-410.8294, 46.1913, -245.9504"/>
      </If>
      <MoveTo XYZ="-410.8294, 46.1913, -245.9504" Distance="1"/>
      <SelectStringOverride Index="1"/>
      <RunCode Name="69149"/>
      <WaitWhile Condition="HasQuest(69149) and not IsQuestCompleted(69149) and not GetQuestStep(69149) == 3"/>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-226.186, 46.19128, -246.424"/>
      </If>
      <MoveTo XYZ="-226.186, 46.19128, -246.424" Distance="1"/>
      <SelectStringOverride Index="2"/>
      <RunCode Name="69149"/>
      <WaitWhile Condition="HasQuest(69149) and not IsQuestCompleted(69149) and not GetQuestStep(69149) == 4"/>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-226.186, 46.19128, -246.424"/>
      </If>
      <UseObject NpcIds="2009910,2009911,2009912" QuestId="69149" StepId="4">
        <HotSpots>
          <HotSpot XYZ="-170.4891, 46.18909, -279.5605" Radius="10"/>
          <HotSpot XYZ="-181.5061, 46.18909, -362.6917" Radius="10"/>
          <HotSpot XYZ="-127.5807, 45.91431, -456.5958" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 5">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-226.2698, 46.19128, -246.2191"/>
      </If>
      <TalkTo NpcId="1029642" XYZ="-226.3066, 46.19127, -247.2114" QuestId="69149" StepId="5"/>
    </If>
    <If Condition="HasQuest(69149) and not IsQuestCompleted(69149) and GetQuestStep(69149) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-451.9255, 45.52073, -238.6015"/>
      </If>
      <TurnIn QuestId="69149" NpcId="1029643" XYZ="-453.605, 45.48443, -236.8658"/>
    </If>
    <!-- Down for Maintenance (Level 76) -->
    <If Condition="IsQuestCompleted(69149) and not HasQuest(69150) and not IsQuestCompleted(69150)">
      <GetTo ZoneId="815" XYZ="-451.9255, 45.52073, -238.6015"/>
      <If Condition="IsQuestAcceptQualified(69150)">
        <PickupQuest QuestId="69150" NpcId="1029643" XYZ="-453.605, 45.48443, -236.8658"/>
      </If>
    </If>
    <If Condition="HasQuest(69150) and not IsQuestCompleted(69150) and GetQuestStep(69150) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-501.5937, 45.70163, -257.1002"/>
      </If>
      <UseObject NpcId="1029645" XYZ="-503.1663, 45.71098, -258.32" QuestId="69150" StepId="1"/>
    </If>
    <If Condition="HasQuest(69150) and not IsQuestCompleted(69150) and GetQuestStep(69150) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-403.9846, 24.92054, -206.6773"/>
      </If>
      <Grind GrindRef="69150" PostCombatDelay="3.0" While="HasQuest(69150) and not IsQuestCompleted(69150) and not GetQuestStep(69150) == 255"/>
    </If>
    <If Condition="HasQuest(69150) and not IsQuestCompleted(69150) and GetQuestStep(69150) == 255">
      <GetTo ZoneId="815" XYZ="-501.4053, 45.77505, -252.255"/>
      <TurnIn ItemId="2002560" QuestId="69150" NpcId="1029761" XYZ="-503.1968, 45.72556, -254.017"/>
    </If>
    <!-- The Truth Hurts (Level 76) -->
    <If Condition="IsQuestCompleted(69150) and not HasQuest(69151) and not IsQuestCompleted(69151)">
      <GetTo ZoneId="815" XYZ="-501.4053, 45.77505, -252.255"/>
      <If Condition="IsQuestAcceptQualified(69151)">
        <PickupQuest QuestId="69151" NpcId="1030569" XYZ="-504.4785, 45.82215, -250.4464"/>
      </If>
    </If>
    <If Condition="HasQuest(69151) and not IsQuestCompleted(69151) and GetQuestStep(69151) == 1">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-479.8596, 47.7777, -192.3584"/>
      </If>
      <TalkTo NpcId="1029639" XYZ="-478.6908, 47.7777, -191.3635" QuestId="69151" StepId="1"/>
    </If>
    <If Condition="HasQuest(69151) and not IsQuestCompleted(69151) and GetQuestStep(69151) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-547.3218, 49.9646, -191.3449"/>
      </If>
      <TalkTo NpcId="1029649" XYZ="-549.5842, 49.9646, -189.0441" QuestId="69151" StepId="2"/>
    </If>
    <If Condition="HasQuest(69151) and not IsQuestCompleted(69151) and GetQuestStep(69151) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-464.3316, 45.44201, -206.0586"/>
      </If>
      <TurnIn QuestId="69151" NpcId="1029755" XYZ="-462.5468, 45.36777, -205.3102"/>
    </If>
    <!-- A Convenient Distraction (Level 77) -->
    <If Condition="IsQuestCompleted(69151) and not HasQuest(69152) and not IsQuestCompleted(69152)">
      <GetTo ZoneId="815" XYZ="-464.1078, 45.44326, -205.9777"/>
      <If Condition="IsQuestAcceptQualified(69152)">
        <PickupQuest QuestId="69152" NpcId="1029755" XYZ="-462.5468, 45.36777, -205.3102"/>
      </If>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 1">
      <GetTo ZoneId="815" XYZ="-341.9569, 17.71486, 40.78313"/>
      <TalkTo NpcId="1029756" XYZ="-344.9608, 18.14789, 40.66516" QuestId="69152" StepId="1"/>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 2">
      <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
      <TalkTo NpcId="1029757" XYZ="-595.7275, 5.317616, 38.16284" QuestId="69152" StepId="2"/>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
      </If>
      <TalkTo NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874" QuestId="69152" StepId="3"/>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 4">
      <If Condition="not Core.Me.HasAura(1152)">
        <GetTo ZoneId="815" XYZ="-593.3912, 5.313056, 38.24243"/>
        <TalkTo NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874"/>
      </If>
      <GetTo ZoneId="815" XYZ="-639.0535, -1.703672, 150.4293"/>
      <UseObject NpcId="2009913" XYZ="-641.4435, -1.419189, 147.2953" QuestId="69152" StepId="4"/>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 5">
      <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
      <SoHandOver ItemId="2002561" NpcId="1029758" XYZ="-594.812, 5.311219, 41.45874" QuestId="69152" StepId="5"/>
    </If>
    <If Condition="HasQuest(69152) and not IsQuestCompleted(69152) and GetQuestStep(69152) == 255">
      <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
      <TurnIn ItemId="2002561" QuestId="69152" NpcId="1029757" XYZ="-595.7275, 5.317616, 38.16284"/>
    </If>
    <!-- A Dirty Job (Level 77) -->
    <If Condition="IsQuestCompleted(69152) and not HasQuest(69153) and not IsQuestCompleted(69153)">
      <GetTo ZoneId="815" XYZ="-593.0407, 5.309672, 42.66826"/>
      <If Condition="IsQuestAcceptQualified(69153)">
        <PickupQuest QuestId="69153" NpcId="1029757" XYZ="-595.7275, 5.317616, 38.16284"/>
      </If>
    </If>
    <If Condition="HasQuest(69153) and not IsQuestCompleted(69153) and GetQuestStep(69153) == 1">
      <GetTo ZoneId="815" XYZ="-342.7695, 18.98414, 74.51338"/>
      <TalkTo NpcId="1029759" XYZ="-342.3362, 19.00405, 77.04285" QuestId="69153" StepId="1"/>
    </If>
    <If Condition="HasQuest(69153) and not IsQuestCompleted(69153) and GetQuestStep(69153) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-323.117, 19.15084, 97.932"/>
      </If>
      <UseObject NpcId="2010009" XYZ="-321.3092, 20.00452, 99.83972" QuestId="69153" StepId="2"/>
    </If>
    <If Condition="HasQuest(69153) and not IsQuestCompleted(69153) and GetQuestStep(69153) == 3">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-424.9985, 17.22812, 7.797758"/>
      </If>
      <UseItem ItemId="2002562" NpcIds="2009918,2009917,2009916" BlacklistAfter="True" WaitTime="3000" QuestId="69153" StepId="3">
        <HotSpots>
          <HotSpot XYZ="-453.0861, 11.70367, 185.5039" Radius="10"/>
          <HotSpot XYZ="-426.6575, 17.19684, 5.142273" Radius="10"/>
          <HotSpot XYZ="-610.4677, -0.656189, 135.9425" Radius="10"/>
        </HotSpots>
      </UseItem>
    </If>
    <If Condition="HasQuest(69153) and not IsQuestCompleted(69153) and GetQuestStep(69153) == 4">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-419.2111, 11.97827, 181.4144"/>
      </If>
      <UseObject ItemId="2002562" NpcIds="2010274,2010275,2010276,2010277,2010279,2010281,2010283" QuestId="69153" StepId="4">
        <HotSpots>
          <HotSpot XYZ="-419.2111, 11.97827, 181.4144" Radius="10"/>
          <HotSpot XYZ="-503.0747, 10.66602, 191.8516" Radius="10"/>
          <HotSpot XYZ="-589.1356, 1.754761, 179.1866" Radius="10"/>
          <HotSpot XYZ="-627.039, 0.9307861, 131.4564" Radius="10"/>
          <HotSpot XYZ="-580.8958, 6.088318, 119.7985" Radius="10"/>
          <HotSpot XYZ="-492.8512, 10.5744, 9.445313" Radius="10"/>
          <HotSpot XYZ="-411.0628, 16.89172, 9.536865" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(69153) and not IsQuestCompleted(69153) and GetQuestStep(69153) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-343.0269, 19.00613, 75.42869"/>
      </If>
      <TurnIn ItemId="2002563" QuestId="69153" NpcId="1029759" XYZ="-342.3362, 19.00405, 77.04285"/>
    </If>
    <!-- Have a Heart (Level 77) -->
    <If Condition="IsQuestCompleted(69153) and not HasQuest(69154) and not IsQuestCompleted(69154)">
      <GetTo ZoneId="815" XYZ="-343.0269, 19.00613, 75.42869"/>
      <If Condition="IsQuestAcceptQualified(69154)">
        <PickupQuest QuestId="69154" NpcId="1029759" XYZ="-342.3362, 19.00405, 77.04285"/>
      </If>
    </If>
    <If Condition="HasQuest(69154) and not IsQuestCompleted(69154) and GetQuestStep(69154) == 1">
      <GetTo ZoneId="815" XYZ="-543.1568, 49.96461, -173.8473"/>
      <TalkTo NpcId="1029754" XYZ="-543.6942, 49.9646, -172.4728" QuestId="69154" StepId="1"/>
    </If>
    <If Condition="HasQuest(69154) and not IsQuestCompleted(69154) and GetQuestStep(69154) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-504.3503, 45.75237, -253.0897"/>
      </If>
      <HandOver ItemId="2002565" NpcId="1029761" XYZ="-503.1968, 45.72556, -254.017" QuestId="69154" StepId="2"/>
    </If>
    <If Condition="HasQuest(69154) and not IsQuestCompleted(69154) and GetQuestStep(69154) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-486.3867, 45.55881, -210.9215"/>
      </If>
      <TurnIn QuestId="69154" NpcId="1029638" XYZ="-484.4893, 45.55326, -212.2988"/>
    </If>
    <!-- Full Steam Ahead (Level 77) -->
    <If Condition="IsQuestCompleted(69154) and not HasQuest(69155) and not IsQuestCompleted(69155)">
      <GetTo ZoneId="815" XYZ="-456.3744, 45.63527, -239.5437"/>
      <If Condition="IsQuestAcceptQualified(69155)">
        <PickupQuest QuestId="69155" NpcId="1029765" XYZ="-455.4055, 45.69294, -240.528"/>
      </If>
    </If>
    <If Condition="HasQuest(69155) and not IsQuestCompleted(69155) and GetQuestStep(69155) == 1">
      <GetTo ZoneId="815" XYZ="7.517127, 45.61908, -583.0801"/>
      <TalkTo NpcId="1029768" XYZ="7.980469, 45.61908, -583.7339" QuestId="69155" StepId="1"/>
    </If>
    <If Condition="HasQuest(69155) and not IsQuestCompleted(69155) and GetQuestStep(69155) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="3.931121, 45.61908, -590.1807"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69155) and not IsQuestCompleted(69155) and GetQuestStep(69155) == 255">
      <GetTo ZoneId="815" XYZ="19.65151, -90.93282, 511.7431"/>
      <TurnIn QuestId="69155" NpcId="1029775" XYZ="20.6759, -91.19236, 509.7886"/>
    </If>
    <!-- Crossroads (Level 77) -->
    <If Condition="IsQuestCompleted(69155) and not HasQuest(69156) and not IsQuestCompleted(69156)">
      <GetTo ZoneId="815" XYZ="19.65151, -90.93282, 511.7431"/>
      <If Condition="IsQuestAcceptQualified(69156)">
        <PickupQuest QuestId="69156" NpcId="1029775" XYZ="20.6759, -91.19236, 509.7886"/>
      </If>
    </If>
    <If Condition="HasQuest(69156) and not IsQuestCompleted(69156) and GetQuestStep(69156) == 1">
      <GetTo ZoneId="815" XYZ="139.1297, -77.95128, 620.3334"/>
      <UseObject NpcId="2009921" XYZ="138.9639, -77.83636, 621.3627" QuestId="69156" StepId="1"/>
    </If>
    <If Condition="HasQuest(69156) and not IsQuestCompleted(69156) and GetQuestStep(69156) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="147.6348, -75.16154, 641.277"/>
      </If>
      <UseObject NpcId="1029777" XYZ="147.9362, -75.01646, 642.359" QuestId="69156" StepId="2"/>
    </If>
    <If Condition="HasQuest(69156) and not IsQuestCompleted(69156) and GetQuestStep(69156) == 255">
      <GetTo ZoneId="815" XYZ="-281.8258, -62.86976, 382.4308"/>
      <TurnIn QuestId="69156" NpcId="1029778" XYZ="-282.0936, -62.82141, 380.5447"/>
    </If>
    <!-- A Fresh Start (Level 77) -->
    <If Condition="IsQuestCompleted(69156) and not HasQuest(69157) and not IsQuestCompleted(69157)">
      <GetTo ZoneId="815" XYZ="-281.8258, -62.86976, 382.4308"/>
      <If Condition="IsQuestAcceptQualified(69157)">
        <PickupQuest QuestId="69157" NpcId="1029783" XYZ="-281.3611, -62.86976, 382.62"/>
      </If>
    </If>
    <If Condition="HasQuest(69157) and not IsQuestCompleted(69157) and GetQuestStep(69157) == 1">
      <GetTo ZoneId="815" XYZ="-506.8639, -95.96886, 490.0764"/>
      <UseObject NpcId="2009922" XYZ="-508.5069, -96.02509, 490.0739" QuestId="69157" StepId="1"/>
    </If>
    <If Condition="HasQuest(69157) and not IsQuestCompleted(69157) and GetQuestStep(69157) == 2">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-506.8639, -95.96886, 490.0764"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69157) and not IsQuestCompleted(69157) and GetQuestStep(69157) == 255">
      <If Condition="not IsOnMap(815)">
        <GetTo ZoneId="815" XYZ="-430.9525, -86.32272, 464.3591"/>
      </If>
      <TurnIn QuestId="69157" NpcId="1029784" XYZ="-429.923, -86.05476, 464.5914"/>
    </If>
    <!-- More than a Hunch (Level 77) -->
    <If Condition="IsQuestCompleted(69157) and not HasQuest(69158) and not IsQuestCompleted(69158)">
      <GetTo ZoneId="815" XYZ="-430.9525, -86.32272, 464.3591"/>
      <If Condition="IsQuestAcceptQualified(69158)">
        <PickupQuest QuestId="69158" NpcId="1029786" XYZ="-431.0826, -86.38152, 462.3331"/>
      </If>
    </If>
    <If Condition="HasQuest(69158) and not IsQuestCompleted(69158) and GetQuestStep(69158) == 1">
      <GetTo ZoneId="819" XYZ="27.35625, 0, 1.132881"/>
      <TalkTo NpcId="1029558" XYZ="28.73267, 0, 1.87677" QuestId="69158" StepId="1"/>
    </If>
    <If Condition="HasQuest(69158) and not IsQuestCompleted(69158) and GetQuestStep(69158) == 255">
      <GetTo ZoneId="819" XYZ="63.39049, 1.716012, 247.2518"/>
      <SoTurnIn QuestId="69158" NpcId="1030610" XYZ="65.11023, 1.716012, 249.7749"/>
    </If>
    <!-- Return to Eulmore (Level 77) -->
    <If Condition="IsQuestCompleted(69158) and not HasQuest(69166) and not IsQuestCompleted(69166)">
      <GetTo ZoneId="819" XYZ="62.82765, 1.716012, 251.6988"/>
      <If Condition="IsQuestAcceptQualified(69166)">
        <PickupQuest QuestId="69166" NpcId="1027231" XYZ="65.35437, 1.716012, 249.8359"/>
      </If>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 1">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="115.3979, 14.6491, 5.333879"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <WaitWhile Condition="HasQuest(69166) and not IsQuestCompleted(69166) and not GetQuestStep(69166) == 2"/>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 2">
      <GetTo ZoneId="814" XYZ="-248.9876, 18.5699, 398.5424"/>
      <TalkTo NpcId="1030165" XYZ="-249.2867, 18.60391, 399.3132" QuestId="69166" StepId="2"/>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 3 and GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 0">
      <GetTo ZoneId="814" XYZ="-89.31939, 10.71513, 313.7085"/>
      <TalkTo NpcId="1030170" XYZ="-87.32745, 11.11521, 312.0928" QuestId="69166"/>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 3 and GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-39.08541, 6.621846, 370.3964"/>
      </If>
      <TalkTo NpcId="1030167" XYZ="-37.6441, 7.035154, 372.4269" QuestId="69166"/>
      <WaitWhile Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 3 and GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 1"/>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 3 and GetQuestById(69166).GetTodoArgs(3, 0).Item1 == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="142.3369, 13.08414, 358.3173"/>
      </If>
      <TalkTo NpcId="1030169" XYZ="144.5792, 13.26848, 356.8322" QuestId="69166"/>
    </If>
    <If Condition="HasQuest(69166) and not IsQuestCompleted(69166) and GetQuestStep(69166) == 255">
      <GetTo ZoneId="814" XYZ="165.5094, 39.90656, 561.9901"/>
      <TurnIn QuestId="69166" NpcId="1030171" XYZ="164.4159, 39.90218, 564.9957"/>
    </If>
    <!-- A Feast of Lies (Level 77) (This Quest Unlocks Eulmore Aetheryte) -->
    <If Condition="IsQuestCompleted(69166) and not HasQuest(69167) and not IsQuestCompleted(69167)">
      <GetTo ZoneId="814" XYZ="165.5094, 39.90656, 561.9901"/>
      <If Condition="IsQuestAcceptQualified(69167)">
        <PickupQuest QuestId="69167" NpcId="1030172" XYZ="165.8503, 40.02784, 566.2166"/>
      </If>
    </If>
    <If Condition="HasQuest(69167) and not IsQuestCompleted(69167) and GetQuestStep(69167) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="165.5094, 39.90656, 561.9901"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69167) and not IsQuestCompleted(69167) and GetQuestStep(69167) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="820" XYZ="2.939304, 82.83, 46.3633"/>
      </If>
      <TurnIn QuestId="69167" NpcId="1030184" XYZ="4.257263, 82.8, 44.66309"/>
    </If>
    <!-- Paradise Fallen (Level 77) -->
    <If Condition="IsQuestCompleted(69167) and not HasQuest(69168) and not IsQuestCompleted(69168)">
      <GetTo ZoneId="820" XYZ="2.939304, 82.83, 46.3633"/>
      <If Condition="IsQuestAcceptQualified(69168)">
        <PickupQuest QuestId="69168" NpcId="1030184" XYZ="4.257263, 82.8, 44.66309"/>
      </If>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 1">
      <GetTo ZoneId="820" XYZ="-69.4132, -0.8904957, 65.91019"/>
      <TalkTo NpcId="1030190" XYZ="-71.39697, -0.8649193, 66.11731" QuestId="69168" StepId="1"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 2">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-69.4132, -0.8904957, 65.91019"/>
      </If>
      <UseItem ItemId="2002609" NpcId="1030190" XYZ="-71.39697, -0.8649193, 66.11731" QuestId="69168" StepId="2"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 3">
      <GetTo ZoneId="820" XYZ="-7.063517, 45, -24.35859"/>
      <TalkTo NpcId="1030191" XYZ="-6.729248, 44.99961, -22.5376" QuestId="69168" StepId="3"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 4">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="-7.063517, 45, -24.35859"/>
      </If>
      <UseItem ItemId="2002609" NpcId="1030191" XYZ="-6.729248, 44.99961, -22.5376" QuestId="69168" StepId="4"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 5">
      <GetTo ZoneId="820" XYZ="19.23537, 82.83513, -49.76351"/>
      <TalkTo NpcId="1030193" XYZ="20.95062, 82.83513, -49.60712" QuestId="69168" StepId="5"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 6">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="19.73318, 82.83513, -49.77707"/>
      </If>
      <UseItem ItemId="2002609" NpcId="1030193" XYZ="20.95062, 82.83513, -49.60712" QuestId="69168" StepId="6"/>
    </If>
    <If Condition="HasQuest(69168) and not IsQuestCompleted(69168) and GetQuestStep(69168) == 255">
      <If Condition="not IsOnMap(820)">
        <GetTo ZoneId="820" XYZ="25.68305, 82.78251, 21.68807"/>
      </If>
      <SoTurnIn QuestId="69168" NpcId="1030194" XYZ="27.35938, 82.90395, 22.38489"/>
    </If>
    <!-- The Ladder (Level 78) -->
    <If Condition="IsQuestCompleted(69168) and not HasQuest(69169) and not IsQuestCompleted(69169)">
      <GetTo ZoneId="820" XYZ="20.20625, 82.78254, 23.25897"/>
      <If Condition="IsQuestAcceptQualified(69169)">
        <PickupQuest QuestId="69169" NpcId="1030196" XYZ="21.37787, 82.78227, 25.00952"/>
      </If>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 1">
      <GetTo ZoneId="814" XYZ="-457.3658, 65.77815, 80.94901"/>
      <TalkTo NpcId="1030197" XYZ="-456.6873, 65.77815, 79.9115" QuestId="69169" StepId="1"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 2">
      <GetTo ZoneId="814" XYZ="-457.6837, 8.987028, 535.5839"/>
      <TalkTo NpcId="1027288" XYZ="-457.3587, 8.987028, 537.0413" QuestId="69169" StepId="2"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 3 and GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 0">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-451.1348, 8.987026, 546.1807"/>
      </If>
      <UseObject NpcId="2010088" XYZ="-451.1348, 8.987026, 546.1807" UseDistance="3.0" Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 3 and GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 0"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 3 and GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-465.2389, 8.987029, 554.0947"/>
      </If>
      <TalkTo NpcId="1027441" XYZ="-465.3239, 8.987028, 555.4131" QuestId="69169"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 3 and GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-458.325, 18.8181, 480.253"/>
      </If>
      <UseObject NpcId="2010089" XYZ="-458.2437, 20.00452, 481.59" Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 3 and GetQuestById(69169).GetTodoArgs(3, 0).Item1 == 2"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 4">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-457.516, 8.987028, 535.7527"/>
      </If>
      <SoTalkTo NpcId="1027288" DialogOption="5,0" XYZ="-457.3587, 8.987028, 537.0413" QuestId="69169" StepId="4"/>
    </If>
    <If Condition="HasQuest(69169) and not IsQuestCompleted(69169) and GetQuestStep(69169) == 255">
      <GetTo ZoneId="814" XYZ="-457.6563, 65.77815, 82.31489"/>
      <TurnIn QuestId="69169" NpcId="1030197" XYZ="-456.6873, 65.77815, 79.9115"/>
    </If>
    <!-- The View from Above (Level 78) -->
    <If Condition="IsQuestCompleted(69169) and not HasQuest(69170) and not IsQuestCompleted(69170)">
      <GetTo ZoneId="814" XYZ="-457.6563, 65.77815, 82.31489"/>
      <If Condition="IsQuestAcceptQualified(69170)">
        <PickupQuest QuestId="69170" NpcId="1030197" XYZ="-456.6873, 65.77815, 79.9115"/>
      </If>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-479.7643, 65.77815, 93.16869"/>
      </If>
      <UseObject NpcId="2010124" XYZ="-482.0783, 65.7511, 93.12573" QuestId="69170" StepId="1"/>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-449.972, 334.0526, -35.08344"/>
      </If>
      <TalkTo NpcId="1030207" XYZ="-448.661, 334.0526, -36.91156" QuestId="69170" StepId="2"/>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-420.7014, 354.3414, 25.30536"/>
      </If>
      <TalkTo NpcId="1030208" XYZ="-418.3871, 354.3414, 25.28406" QuestId="69170" StepId="3"/>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 4">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-417.3336, 354.3414, 22.40183"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 5">
      <GetTo ZoneId="814" XYZ="-149.2363, 352.3582, -216.6674"/>
      <UseObject NpcIds="2010091,2010092,2010093" QuestId="69170" StepId="5">
        <HotSpots>
          <HotSpot XYZ="-120.0733, 353.4751, -206.714" Radius="10"/>
          <HotSpot XYZ="-151.4153, 353.5363, -188.8915" Radius="10"/>
          <HotSpot XYZ="-132.5247, 355.2452, -176.257" Radius="10"/>
        </HotSpots>
      </UseObject>
    </If>
    <If Condition="HasQuest(69170) and not IsQuestCompleted(69170) and GetQuestStep(69170) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-135.8674, 352.3582, -190.0838"/>
      </If>
      <TurnIn QuestId="69170" NpcId="1030211" XYZ="-137.3465, 352.3582, -188.037"/>
    </If>
    <!-- In Mt. Gulg's Shadow (Level 78) -->
    <If Condition="IsQuestCompleted(69170) and not HasQuest(69171) and not IsQuestCompleted(69171)">
      <GetTo ZoneId="814" XYZ="-126.1204, 352.3582, -190.7336"/>
      <If Condition="IsQuestAcceptQualified(69171)">
        <PickupQuest QuestId="69171" NpcId="1030213" XYZ="-124.4068, 352.3582, -192.279"/>
      </If>
    </If>
    <If Condition="HasQuest(69171) and not IsQuestCompleted(69171) and GetQuestStep(69171) == 1">
      <GetTo ZoneId="814" XYZ="-119.1603, 362.4734, -344.1997"/>
      <TalkTo NpcId="1030214" XYZ="-119.7376, 362.5605, -346.1509" QuestId="69171" StepId="1"/>
    </If>
    <If Condition="HasQuest(69171) and not IsQuestCompleted(69171) and GetQuestStep(69171) == 2">
      <GetTo ZoneId="814" XYZ="-279.1706, 378.2881, -402.71"/>
      <UseObject NpcId="2010094" XYZ="-279.0723, 378.6831, -404.3793" QuestId="69171" StepId="2"/>
    </If>
    <If Condition="HasQuest(69171) and not IsQuestCompleted(69171) and GetQuestStep(69171) == 3">
      <GetTo ZoneId="814" XYZ="-169.812, 396.6775, -467.8703"/>
      <UseObject NpcId="2010095" XYZ="-168.9021, 396.8108, -468.3146" QuestId="69171" StepId="3"/>
    </If>
    <If Condition="HasQuest(69171) and not IsQuestCompleted(69171) and GetQuestStep(69171) == 4">
      <GetTo ZoneId="814" XYZ="-160.5942, 455.1951, -739.8885"/>
      <TalkTo NpcId="1030215" XYZ="-160.5402, 455.2343, -740.261" QuestId="69171" StepId="4"/>
    </If>
    <If Condition="HasQuest(69171) and not IsQuestCompleted(69171) and GetQuestStep(69171) == 255">
      <GetTo ZoneId="814" XYZ="-446.3127, 334.0526, -56.33099"/>
      <TurnIn QuestId="69171" NpcId="1030216" XYZ="-445.4872, 334.0526, -55.40558"/>
    </If>
    <!-- A Gigantic Undertaking (Level 78) -->
    <If Condition="IsQuestCompleted(69171) and not HasQuest(69172) and not IsQuestCompleted(69172)">
      <GetTo ZoneId="814" XYZ="-446.3127, 334.0526, -56.33099"/>
      <If Condition="IsQuestAcceptQualified(69172)">
        <PickupQuest QuestId="69172" NpcId="1030216" XYZ="-445.4872, 334.0526, -55.40558"/>
      </If>
    </If>
    <If Condition="HasQuest(69172) and not IsQuestCompleted(69172) and GetQuestStep(69172) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-438.2332, 334.0526, -46.01204"/>
      </If>
      <SelectStringOverride Index="1,2,1,1"/>
      <TalkTo NpcId="1030224" XYZ="-437.4609, 334.0526, -45.05994" QuestId="69172"/>
      <WaitWhile Condition="HasQuest(69172) and not IsQuestCompleted(69172) and not GetQuestStep(69172) == 2"/>
    </If>
    <If Condition="HasQuest(69172) and not IsQuestCompleted(69172) and GetQuestStep(69172) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-438.2332, 334.0526, -46.01204"/>
      </If>
      <SelectStringOverride Index="1,2,1,1"/>
      <TalkTo NpcId="1030223" XYZ="-436.5454, 334.0526, -46.70789" QuestId="69172" StepId="2"/>
    </If>
    <If Condition="HasQuest(69172) and not IsQuestCompleted(69172) and GetQuestStep(69172) == 255">
      <GetTo ZoneId="814" XYZ="-122.1066, 352.3582, -191.4411"/>
      <TurnIn QuestId="69172" NpcId="1027462" XYZ="-120.2259, 352.3579, -190.6615"/>
    </If>
    <!-- Meet the Tholls (Level 78) -->
    <If Condition="IsQuestCompleted(69172) and not HasQuest(69173) and not IsQuestCompleted(69173)">
      <GetTo ZoneId="814" XYZ="-122.1066, 352.3582, -191.4411"/>
      <If Condition="IsQuestAcceptQualified(69173)">
        <PickupQuest QuestId="69173" NpcId="1027462" XYZ="-120.2259, 352.3579, -190.6615"/>
      </If>
    </If>
    <If Condition="HasQuest(69173) and not IsQuestCompleted(69173) and GetQuestStep(69173) == 1">
      <GetTo ZoneId="814" XYZ="-424.6227, 416.5849, -584.522"/>
      <TalkTo NpcId="1030229" XYZ="-425.803, 416.7673, -586.2974" QuestId="69173" StepId="1"/>
    </If>
    <If Condition="HasQuest(69173) and not IsQuestCompleted(69173) and GetQuestStep(69173) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-467.9887, 417.2273, -647.9368"/>
      </If>
      <TalkTo NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561" QuestId="69173" StepId="2"/>
    </If>
    <If Condition="HasQuest(69173) and not IsQuestCompleted(69173) and GetQuestStep(69173) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-442.9381, 417.1726, -618.2719"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69173) and not IsQuestCompleted(69173) and GetQuestStep(69173) == 4">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-442.9381, 417.1726, -618.2719"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69173) and not IsQuestCompleted(69173) and GetQuestStep(69173) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-468.5157, 417.2283, -648.5204"/>
      </If>
      <TurnIn QuestId="69173" NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561"/>
    </If>
    <!-- A-Digging We Will Go (Level 78) -->
    <If Condition="IsQuestCompleted(69173) and not HasQuest(69174) and not IsQuestCompleted(69174)">
      <GetTo ZoneId="814" XYZ="-468.5157, 417.2283, -648.5204"/>
      <If Condition="IsQuestAcceptQualified(69174)">
        <PickupQuest QuestId="69174" NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561"/>
      </If>
    </If>
    <If Condition="HasQuest(69174) and not IsQuestCompleted(69174) and GetQuestStep(69174) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-468.5157, 417.2283, -648.5205"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69174) and not IsQuestCompleted(69174) and GetQuestStep(69174) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="348.2301, 314.8299, -374.01"/>
      </If>
      <TurnIn QuestId="69174" NpcId="1030233" XYZ="349.2942, 315.2037, -373.251"/>
    </If>
    <!-- The Duergar's Tewel (Level 78) -->
    <If Condition="IsQuestCompleted(69174) and not HasQuest(69175) and not IsQuestCompleted(69175)">
      <GetTo ZoneId="814" XYZ="348.2301, 314.8299, -374.01"/>
      <If Condition="IsQuestAcceptQualified(69175)">
        <PickupQuest QuestId="69175" NpcId="1030233" XYZ="349.2942, 315.2037, -373.251"/>
      </If>
    </If>
    <If Condition="HasQuest(69175) and not IsQuestCompleted(69175) and GetQuestStep(69175) == 1">
      <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
      <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437" QuestId="69175" StepId="1"/>
    </If>
    <If Condition="HasQuest(69175) and not IsQuestCompleted(69175) and GetQuestStep(69175) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
      </If>
      <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437" QuestId="69175" StepId="2"/>
    </If>
    <If Condition="HasQuest(69175) and not IsQuestCompleted(69175) and GetQuestStep(69175) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
      </If>
      <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437" QuestId="69175" StepId="2"/>
      <WaitWhile Condition="not Core.Me.HasAura(416)"/>
    </If>
    <If Condition="HasQuest(69175) and not IsQuestCompleted(69175) and GetQuestStep(69175) == 3">
      <If Condition="not Core.Me.HasAura(416)">
        <If Condition="not IsOnMap(814)">
          <GetTo ZoneId="814" XYZ="610.4, 278.207, -511.0002"/>
        </If>
        <TalkTo NpcId="1030375" XYZ="611.9325, 278.146, -512.4437"/>
      </If>
      <UseItem ItemId="2002610" NpcIds="1030235,1030237,1030236" QuestId="69175" StepId="3">
        <HotSpots>
          <HotSpot XYZ="705.0431, 270.0769, -492.9122" Radius="10"/>
          <HotSpot XYZ="747.1274, 270, -477.4395" Radius="10"/>
          <HotSpot XYZ="744.5334, 270, -515.4955" Radius="10"/>
        </HotSpots>
      </UseItem>
    </If>
    <If Condition="HasQuest(69175) and not IsQuestCompleted(69175) and GetQuestStep(69175) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="612.955, 278.2874, -514.5513"/>
      </If>
      <TurnIn QuestId="69175" NpcId="1030375" XYZ="611.9325, 278.146, -512.4437"/>
    </If>
    <!-- Rich Veins of Hope (Level 78) -->
    <If Condition="IsQuestCompleted(69175) and not HasQuest(69176) and not IsQuestCompleted(69176)">
      <GetTo ZoneId="814" XYZ="612.955, 278.2874, -514.5513"/>
      <If Condition="IsQuestAcceptQualified(69176)">
        <PickupQuest QuestId="69176" NpcId="1030375" XYZ="611.9325, 278.146, -512.4437"/>
      </If>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 1">
      <GetTo ZoneId="814" XYZ="-468.9019, 417.2273, -647.9505"/>
      <TalkTo NpcId="1027296" XYZ="-469.7795, 417.2296, -649.2561" QuestId="69176" StepId="1"/>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 2">
      <GetTo ZoneId="814" XYZ="-463.6761, 334.0526, -83.40401"/>
      <TalkTo NpcId="1030292" XYZ="-463.7369, 334.0526, -81.04071" QuestId="69176" StepId="2"/>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 3 and not IsTodoChecked(69176, 3, 0)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-464.5488, 334.0526, -67.13285"/>
      </If>
      <HandOver ItemId="2002611" NpcId="1030240" XYZ="-464.4999, 334.0526, -65.53754" QuestId="69176"/>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 3 and not IsTodoChecked(69176, 3, 1)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-471.8777, 334.0526, -71.53595"/>
      </If>
      <HandOver ItemId="2002611" NpcId="1030243" XYZ="-473.4417, 334.0526, -71.15283" QuestId="69176"/>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 3 and not IsTodoChecked(69176, 3, 2)">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-454.1078, 334.0526, -77.0933"/>
      </If>
      <HandOver ItemId="2002611" NpcId="1030244" XYZ="-453.2388, 334.0526, -76.27985" QuestId="69176"/>
    </If>
    <If Condition="HasQuest(69176) and not IsQuestCompleted(69176) and GetQuestStep(69176) == 255">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-462.2831, 334.0526, -79.26407"/>
      </If>
      <TurnIn QuestId="69176" NpcId="1030292" XYZ="-463.7369, 334.0526, -81.04071"/>
    </If>
    <!-- That None Shall Ever Again (Level 78) -->
    <If Condition="IsQuestCompleted(69176) and not HasQuest(69177) and not IsQuestCompleted(69177)">
      <GetTo ZoneId="814" XYZ="-466.2632, 334.0526, -79.65466"/>
      <If Condition="IsQuestAcceptQualified(69177)">
        <PickupQuest QuestId="69177" NpcId="1030238" XYZ="-466.0869, 334.0526, -81.13226"/>
      </If>
    </If>
    <If Condition="HasQuest(69177) and not IsQuestCompleted(69177) and GetQuestStep(69177) == 1">
      <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
      <TalkTo NpcId="1030250" XYZ="-137.5906, 352.3582, -190.9056" QuestId="69177" StepId="1"/>
    </If>
    <If Condition="HasQuest(69177) and not IsQuestCompleted(69177) and GetQuestStep(69177) == 2">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
      </If>
      <TalkTo NpcId="1030250" XYZ="-137.5906, 352.3582, -190.9056" QuestId="69177" StepId="2"/>
    </If>
    <If Condition="HasQuest(69177) and not IsQuestCompleted(69177) and GetQuestStep(69177) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-137.6214, 352.3582, -192.302"/>
      </If>
      <UseObject NpcId="2010098" XYZ="-137.5906, 353.5363, -192.5231" QuestId="69177" StepId="3"/>
    </If>
    <If Condition="HasQuest(69177) and not IsQuestCompleted(69177) and GetQuestStep(69177) == 255">
      <GetTo ZoneId="814" XYZ="-139.4529, 352.3582, -190.012"/>
      <TurnIn QuestId="69177" NpcId="1030253" XYZ="-141.2223, 352.3582, -188.9525"/>
    </If>
    <!-- A Breath of Respite (Level 78) -->
    <If Condition="IsQuestCompleted(69177) and not HasQuest(69178) and not IsQuestCompleted(69178)">
      <GetTo ZoneId="814" XYZ="-139.4529, 352.3582, -190.012"/>
      <If Condition="IsQuestAcceptQualified(69178)">
        <PickupQuest QuestId="69178" NpcId="1030253" XYZ="-141.2223, 352.3582, -188.9525"/>
      </If>
    </If>
    <If Condition="HasQuest(69178) and not IsQuestCompleted(69178) and GetQuestStep(69178) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-132.3061, 354.3582, -177.9143"/>
      </If>
      <TalkTo NpcId="1030254" XYZ="-132.8298, 354.3582, -177.2031" QuestId="69178" StepId="1"/>
    </If>
    <If Condition="HasQuest(69178) and not IsQuestCompleted(69178) and GetQuestStep(69178) == 2">
      <GetTo ZoneId="814" XYZ="-7.816596, 324.3652, 190.941"/>
      <UseObject NpcId="1030293" XYZ="-5.172852, 324.3521, 190.5088" QuestId="69178" StepId="2"/>
    </If>
    <If Condition="HasQuest(69178) and not IsQuestCompleted(69178) and GetQuestStep(69178) == 255">
      <GetTo ZoneId="814" XYZ="-141.1699, 352.3582, -192.2932"/>
      <TurnIn QuestId="69178" NpcId="1030294" XYZ="-142.1378, 352.3582, -189.4714"/>
    </If>
    <!-- Extinguishing the Last Light (Level 79) -->
    <If Condition="IsQuestCompleted(69178) and not HasQuest(69179) and not IsQuestCompleted(69179)">
      <GetTo ZoneId="814" XYZ="-140.3834, 352.3582, -190.0665"/>
      <If Condition="IsQuestAcceptQualified(69179)">
        <PickupQuest QuestId="69179" NpcId="1030295" XYZ="-140.0016, 352.3582, -187.9149"/>
      </If>
    </If>
    <If Condition="HasQuest(69179) and not IsQuestCompleted(69179) and GetQuestStep(69179) == 1">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-140.9958, 352.3582, -190.0621"/>
      </If>
      <SoTalkTo NpcId="1030294" XYZ="-142.1378, 352.3582, -189.4714" QuestId="69179" StepId="1"/>
    </If>
    <If Condition="HasQuest(69179) and not IsQuestCompleted(69179) and GetQuestStep(69179) == 2">
      <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
      <TalkTo NpcId="1030302" XYZ="-173.4493, 460.4707, -797.3602" QuestId="69179" StepId="2"/>
    </If>
    <If Condition="HasQuest(69179) and not IsQuestCompleted(69179) and GetQuestStep(69179) == 3">
      <If Condition="not IsOnMap(814)">
        <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69179) and not IsQuestCompleted(69179) and GetQuestStep(69179) == 5">
      <If Condition="not IsOnMap(880)">
        <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
        <UseTransport InteractDistance="3.0" NpcId="1030320" XYZ="-164.2329, 460.689, -804.5319"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69179) and not IsQuestCompleted(69179) and GetQuestStep(69179) == 255">
      <If Condition="not IsOnMap(880)">
        <GetTo ZoneId="814" XYZ="-173.4306, 460.431, -796.9117"/>
        <UseTransport InteractDistance="3.0" NpcId="1030320" XYZ="-164.2329, 460.689, -804.5319"/>
      </If>
      <TurnIn QuestId="69179" NpcId="1030303" XYZ="109.2393, 0.01407149, 108.7205"/>
    </If>
    <!-- Reassuring the Masses (Level 79) -->
    <If Condition="IsQuestCompleted(69179) and not HasQuest(69180) and not IsQuestCompleted(69180)">
      <GetTo ZoneId="819" XYZ="63.3789, 1.716012, 251.9367"/>
      <If Condition="IsQuestAcceptQualified(69180)">
        <PickupQuest QuestId="69180" NpcId="1027231" XYZ="65.35437, 1.716012, 249.8359"/>
      </If>
    </If>
    <If Condition="HasQuest(69180) and not IsQuestCompleted(69180) and GetQuestStep(69180) == 1">
      <GetTo ZoneId="819" XYZ="-55.72869, -7.482, 118.7893"/>
      <TalkTo NpcId="1027224" XYZ="-57.3587, -7.482, 118.0895" QuestId="69180" StepId="1"/>
    </If>
    <If Condition="HasQuest(69180) and not IsQuestCompleted(69180) and GetQuestStep(69180) == 2">
      <GetTo ZoneId="819" XYZ="-29.14879, -0.65, -50.65533"/>
      <TalkTo NpcId="1027248" XYZ="-30.80798, -0.6499991, -51.43823" QuestId="69180" StepId="2"/>
    </If>
    <If Condition="HasQuest(69180) and not IsQuestCompleted(69180) and GetQuestStep(69180) == 3">
      <GetTo ZoneId="819" XYZ="-61.14761, -17.72201, -267.8642"/>
      <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69180" StepId="3"/>
    </If>
    <If Condition="HasQuest(69180) and not IsQuestCompleted(69180) and GetQuestStep(69180) == 255">
      <GetTo ZoneId="819" XYZ="-11.43554, 20.1973, -137.6693"/>
      <TurnIn QuestId="69180" NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225"/>
    </If>
    <!-- In His Garden (Level 79) -->
    <If Condition="IsQuestCompleted(69180) and not HasQuest(69181) and not IsQuestCompleted(69181)">
      <GetTo ZoneId="819" XYZ="-11.43554, 20.1973, -137.6693"/>
      <If Condition="IsQuestAcceptQualified(69181)">
        <PickupQuest QuestId="69181" NpcId="1027232" XYZ="-9.323303, 20.1973, -136.5225"/>
      </If>
    </If>
    <If Condition="HasQuest(69181) and not IsQuestCompleted(69181) and GetQuestStep(69181) == 1">
      <GetTo ZoneId="819" XYZ="-195.8405, 1.192093E-07, -81.81522"/>
	  <RunCode Name="69181"/>
      <UseObject NpcId="2010136" XYZ="-223.4684, 38.59009, -86.86963" QuestId="69181" StepId="1"/>
	  <MoveTo XYZ="-180.156, 1.192093E-07, -74.98458" UseMesh="False" Distance="1"/>
    </If>
    <If Condition="HasQuest(69181) and not IsQuestCompleted(69181) and GetQuestStep(69181) == 2 and GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 0">
      <If Condition="IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="-140.1232, 0, -75.14251"/>
      </If>
      <TalkTo NpcId="1027246" XYZ="-136.9802, 0, -73.77747" QuestId="69181"/>
    </If>
    <If Condition="HasQuest(69181) and not IsQuestCompleted(69181) and GetQuestStep(69181) == 2 and GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 1">
      <GetTo ZoneId="819" XYZ="-60.65808, -17.72201, -267.3898"/>
      <TalkTo NpcId="1027226" XYZ="-61.84485, -17.72202, -266.2547" QuestId="69181"/>
    </If>
    <If Condition="HasQuest(69181) and not IsQuestCompleted(69181) and GetQuestStep(69181) == 2 and GetQuestById(69181).GetTodoArgs(2, 0).Item1 == 2">
      <GetTo ZoneId="819" XYZ="42.51077, 36.19769, -159.1732"/>
      <TalkTo NpcId="1027854" XYZ="40.57373, 36.19769, -160.235" QuestId="69181"/>
    </If>
    <If Condition="HasQuest(69181) and not IsQuestCompleted(69181) and GetQuestStep(69181) == 255">
      <GetTo ZoneId="813" XYZ="613.9008, 13.30975, 306.5868"/>
      <TurnIn QuestId="69181" NpcId="1030369" XYZ="614.4961, 13.30975, 305.806"/>
    </If>
    <!-- The Unbroken Thread (Level 79) -->
    <If Condition="IsQuestCompleted(69181) and not HasQuest(69182) and not IsQuestCompleted(69182)">
      <GetTo ZoneId="813" XYZ="613.9008, 13.30975, 306.5868"/>
      <If Condition="IsQuestAcceptQualified(69182)">
        <PickupQuest QuestId="69182" NpcId="1030369" XYZ="614.4961, 13.30975, 305.806"/>
      </If>
    </If>
    <If Condition="HasQuest(69182) and not IsQuestCompleted(69182) and GetQuestStep(69182) == 1">
      <GetTo ZoneId="819" XYZ="115.0558, 14.64909, 5.87816"/>
      <UseTransport InteractDistance="3.0" NpcId="1030533" XYZ="117.9979, 14.64903, 7.156433"/>
      <WaitWhile Condition="HasQuest(69182) and not IsQuestCompleted(69182) and not GetQuestStep(69182) == 2"/>
    </If>
    <If Condition="HasQuest(69182) and not IsQuestCompleted(69182) and GetQuestStep(69182) == 2">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="68.43396, -3.576279E-07, 12.17688"/>
      </If>
      <SoTalkTo NpcId="1030370" DialogOption="1" XYZ="66.84973, -2.980232E-07, 13.32104" QuestId="69182" StepId="2"/>
    </If>
    <If Condition="HasQuest(69182) and not IsQuestCompleted(69182) and GetQuestStep(69182) == 3">
      <GetTo ZoneId="819" XYZ="59.45224, 36.19769, -167.9817"/>
      <TalkTo NpcId="1027225" XYZ="61.90588, 36.24769, -169.1768" QuestId="69182" StepId="3"/>
    </If>
    <If Condition="HasQuest(69182) and not IsQuestCompleted(69182) and GetQuestStep(69182) == 255">
      <If Condition="not IsOnMap(819)">
        <GetTo ZoneId="819" XYZ="59.18567, 36.19769, -165.6519"/>
      </If>
      <TurnIn QuestId="69182" NpcId="1030327" XYZ="58.42676, 36.19769, -162.4018"/>
    </If>
    <!-- To Storm-tossed Seas (Level 79) -->
    <If Condition="IsQuestCompleted(69182) and not HasQuest(69183) and not IsQuestCompleted(69183)">
      <GetTo ZoneId="819" XYZ="59.18567, 36.19769, -165.6519"/>
      <If Condition="IsQuestAcceptQualified(69183)">
        <PickupQuest QuestId="69183" NpcId="1030327" XYZ="58.42676, 36.19769, -162.4018"/>
      </If>
    </If>
    <If Condition="HasQuest(69183) and not IsQuestCompleted(69183) and GetQuestStep(69183) == 1">
      <GetTo ZoneId="813" XYZ="-143.3783, 9.572956, 703.9947"/>
      <TalkTo NpcId="1030346" XYZ="-145.0981, 9.572956, 704.6769" QuestId="69183" StepId="1"/>
    </If>
    <If Condition="HasQuest(69183) and not IsQuestCompleted(69183) and GetQuestStep(69183) == 2">
      <If Condition="not IsOnMap(813)">
        <GetTo ZoneId="813" XYZ="-272.3878, -0.8264023, 723.4526"/>
      </If>
      <MoveTo XYZ="-272.3878, -0.8264023, 723.4526" Distance="1"/>
      <MoveTo XYZ="-288.1823, -2.483416, 720.9448" Distance="1" UseMesh="False"/>
      <RunCode Name="69183"/>
    </If>
    <If Condition="HasQuest(69183) and not IsQuestCompleted(69183) and GetQuestStep(69183) == 3">
      <GetTo ZoneId="813" XYZ="-614.0067, 27.72864, 815.555"/>
      <SoTalkTo NpcId="1030333" Dialogoption="1" XYZ="-612.2377, 27.72864, 817.6547" QuestId="69183" StepId="3"/>
	  <WaitWhile Condition="HasQuest(69183) and not IsQuestCompleted(69183) and not GetQuestStep(69183) == 255"/>
    </If>
    <If Condition="HasQuest(69183) and not IsQuestCompleted(69183) and GetQuestStep(69183) == 255">
      <GetTo ZoneId="818" XYZ="281.505, 414.7568, -858.151"/>
      <TurnIn QuestId="69183" NpcId="1030339" XYZ="282.4292, 414.7814, -857.0229"/>
    </If>
    <!-- Waiting in the Depths (Level 79) -->
    <If Condition="IsQuestCompleted(69183) and not HasQuest(69184) and not IsQuestCompleted(69184)">
      <GetTo ZoneId="818" XYZ="278.0268, 414.807, -852.7608"/>
      <If Condition="IsQuestAcceptQualified(69184)">
        <PickupQuest QuestId="69184" NpcId="1030336" XYZ="278.7976, 414.807, -851.2856"/>
      </If>
    </If>
    <If Condition="HasQuest(69184) and not IsQuestCompleted(69184) and GetQuestStep(69184) == 1">
      <GetTo ZoneId="818" XYZ="478.7299, 368.9448, -342.8227"/>
      <UseObject NpcId="1030514" XYZ="479.5758, 368.8783, -340.9933" QuestId="69184" StepId="1"/>
    </If>
    <If Condition="HasQuest(69184) and not IsQuestCompleted(69184) and GetQuestStep(69184) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="602.8371, 350.3518, -197.7916"/>
      </If>
      <TalkTo NpcId="1030515" XYZ="605.3711, 350.3518, -196.9177" QuestId="69184" StepId="2"/>
    </If>
    <If Condition="HasQuest(69184) and not IsQuestCompleted(69184) and GetQuestStep(69184) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="570.8414, 349.8863, -226.9085"/>
      </If>
      <TalkTo NpcId="1030516" XYZ="569.4209, 350.0365, -227.9545" QuestId="69184" StepId="3"/>
    </If>
    <If Condition="HasQuest(69184) and not IsQuestCompleted(69184) and GetQuestStep(69184) == 4">
      <GetTo ZoneId="818" XYZ="767.079, 449.6789, -684.2198"/>
      <Grind GrindRef="69184" PostCombatDelay="3.0" While="HasQuest(69184) and not IsQuestCompleted(69184) and not GetQuestStep(69184) == 255"/>
    </If>
    <If Condition="HasQuest(69184) and not IsQuestCompleted(69184) and GetQuestStep(69184) == 255">
      <GetTo ZoneId="818" XYZ="568.1878, 350.0769, -227.8502"/>
      <TurnIn QuestId="69184" NpcId="1027758" XYZ="568.1085, 350.2004, -230.3655"/>
    </If>
    <!-- City of the Ancients (Level 79) -->
    <If Condition="IsQuestCompleted(69184) and not HasQuest(69185) and not IsQuestCompleted(69185)">
      <GetTo ZoneId="818" XYZ="576.1929, 349.9715, -230.3251"/>
      <If Condition="IsQuestAcceptQualified(69185)">
        <PickupQuest QuestId="69185" NpcId="1030517" XYZ="578.7594, 349.8656, -231.0063"/>
      </If>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 1">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="401.4548, 363.7026, -438.9862"/>
      </If>
      <TalkTo NpcId="1030518" XYZ="400.3813, 363.6555, -439.6582" QuestId="69185" StepId="1"/>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 2 and not IsTodoChecked(69185, 2, 1)">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="325.0492, 353.7672, -475.2761" Distance="0.1"/>
      </If>
      <UseItem ItemId="2002673" NpcId="2010142" Distance="0.1" XYZ="325.0492, 353.7672, -475.2761" QuestId="69185" Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 2 and not IsTodoChecked(69185, 2, 1)"/>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 2 and not IsTodoChecked(69185, 2, 0)">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="405.5002, 361.2451, -415.4251"/>
      </If>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="399.1653, 363.446, -437.8478"/>
      </If>
      <TalkTo NpcId="1030518" XYZ="400.3813, 363.6555, -439.6582" QuestId="69185" StepId="3"/>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 4">
      <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
      <UseObject NpcId="2010143" XYZ="25.71143, 381.6128, -522.3316" QuestId="69185" StepId="4"/>
    </If>
    <If Condition="HasQuest(69185) and not IsQuestCompleted(69185) and GetQuestStep(69185) == 255">
      <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
      <TurnIn QuestId="69185" NpcId="1030225" XYZ="28.82422, 381.8191, -524.4374"/>
    </If>
    <!-- The Light of Inspiration (Level 79) -->
    <If Condition="IsQuestCompleted(69185) and not HasQuest(69186) and not IsQuestCompleted(69186)">
      <GetTo ZoneId="818" XYZ="26.4468, 381.7419, -523.5912"/>
      <If Condition="IsQuestAcceptQualified(69186)">
        <PickupQuest QuestId="69186" NpcId="1030225" XYZ="28.82422, 381.8191, -524.4374"/>
      </If>
    </If>
    <If Condition="HasQuest(69186) and not IsQuestCompleted(69186) and GetQuestStep(69186) == 1">
      <GetTo ZoneId="818" XYZ="567.4061, 350.1394, -228.7093"/>
      <SoTalkTo NpcId="1027758" DialogOption="1" XYZ="568.1085, 350.2004, -230.3655" QuestId="69186" StepId="1"/>
    </If>
    <If Condition="HasQuest(69186) and not IsQuestCompleted(69186) and GetQuestStep(69186) == 2">
      <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
      <TalkTo NpcId="1030519" XYZ="638.9716, 402.24, 212.787" QuestId="69186" StepId="2"/>
    </If>
    <If Condition="HasQuest(69186) and not IsQuestCompleted(69186) and GetQuestStep(69186) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
      </If>
      <RunCode Name="69186"/>
      <WaitWhile Condition="HasQuest(69186) and not IsQuestCompleted(69186) and not GetQuestStep(69186) == 255"/>
    </If>
    <If Condition="not IsQuestCompleted(68784) and not IsQuestCompleted(68808) and not IsQuestCompleted(68814) and not IsQuestCompleted(69164) and HasQuest(69186) and not IsQuestCompleted(69186)">
      <RunCode Name="Role_Quests"/>
    </If>
    <If Condition="IsQuestCompleted(68784) or IsQuestCompleted(68808) or IsQuestCompleted(68814) or IsQuestCompleted(69164)">
      <If Condition="HasQuest(69186) and not IsQuestCompleted(69186) and GetQuestStep(69186) == 255">
        <GetTo ZoneId="818" XYZ="640.3073, 402.24, 210.8794"/>
        <SoTurnIn QuestId="69186" NpcId="1030586" XYZ="638.9716, 402.24, 212.787"/>
      </If>
    </If>
    <!-- The Illuminated Land (Level 80)  -->
    <If Condition="IsQuestCompleted(69186) and not HasQuest(69187) and not IsQuestCompleted(69187)">
      <GetTo ZoneId="818" XYZ="641.0081, 402.24, 209.3931"/>
      <If Condition="IsQuestAcceptQualified(69187)">
        <PickupQuest QuestId="69187" NpcId="1030586" XYZ="638.9716, 402.24, 212.787"/>
      </If>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 1">
      <GetTo ZoneId="818" XYZ="606.9302, 350.3518, -198.0767"/>
      <HandOver ItemId="2002675" NpcId="1027757" XYZ="609.7047, 350.3518, -197.9553" QuestId="69187" StepId="1"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="514.2737, 356.9507, -271.0156"/>
      </If>
      <TalkTo NpcId="1031279" XYZ="514.6715, 356.5845, -268.5131" QuestId="69187" StepId="2"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 3">
	  <!-- GetTo may keep walking over the geyser -->
      <GetTo ZoneId="818" XYZ="473.1768, 341.6489, -272.3576"/>
	  <MoveTo XYZ="483.5955, 315.3157, -280.4646" UseMesh="False"/>
	  <WaitTimer WaitTime="5" />
	  <GetTo ZoneId="818" XYZ="403.1016, 303.3107, -245.2823"/>
      <TalkTo NpcId="1030570" XYZ="400.595, 303.5103, -245.1057" QuestId="69187" StepId="3"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 4">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="403.1016, 303.3107, -245.2823"/>
      </If>
	  <RunCode Name="69187"/>
      <GetTo ZoneId="818" XYZ="303.8245, 238.2643, -344.4436"/>	  
      <TalkTo NpcId="1030532" XYZ="302.0217, 238.7522, -346.1509" QuestId="69187" StepId="4"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 5">
      <GetTo ZoneId="818" XYZ="89.68027, 199.5726, -144.8761"/>
      <TalkTo NpcId="1030527" XYZ="87.93774, 199.5617, -143.0534" QuestId="69187" StepId="5"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 6">
      <GetTo ZoneId="818" XYZ="-181.2583, 139.7943, -219.9855"/>
      <TalkTo NpcId="1030528" XYZ="-182.6658, 139.7686, -220.9354" QuestId="69187" StepId="6"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 7">
      <GetTo ZoneId="818" XYZ="-500.5859, 127.1682, -257.8966"/>
      <TalkTo NpcId="1030534" XYZ="-501.915, 127.1898, -257.435" QuestId="69187" StepId="7"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 8">
      <GetTo ZoneId="818" XYZ="-812.9244, 80.06553, -280.9034"/>
      <WaitWhile Condition="HasQuest(69187) and not IsQuestCompleted(69187) and not GetQuestStep(69187) == 255"/>
    </If>
    <If Condition="HasQuest(69187) and not IsQuestCompleted(69187) and GetQuestStep(69187) == 255">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-789.7743, 73.83459, -217.7062"/>
      </If>
      <TurnIn QuestId="69187" NpcId="1030344" XYZ="-792.9656, 73.24448, -211.6274"/>
    </If>
    <!-- The End of a World (Level 80) -->
    <If Condition="IsQuestCompleted(69187) and not HasQuest(69188) and not IsQuestCompleted(69188)">
      <GetTo ZoneId="818" XYZ="-794.5211, 72.54343, -204.7149"/>
      <If Condition="IsQuestAcceptQualified(69188)">
        <PickupQuest QuestId="69188" NpcId="1030341" XYZ="-794.9188, 72.44565, -203.0518"/>
      </If>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 1">
      <GetTo ZoneId="818" XYZ="-610.2485, 45.47874, 96.53845"/>
      <UseObject NpcId="2010144" XYZ="-610.5898, 46.34167, 94.01074" QuestId="69188" StepId="1"/>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 2">
      <GetTo ZoneId="818" XYZ="-593.228, -288.0688, 148.8005"/>
      <TalkTo NpcId="1030546" XYZ="-592.9503, -288.0688, 151.2017" QuestId="69188" StepId="2"/>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 3">
      <GetTo ZoneId="818" XYZ="-701.9691, -245.368, 508.066"/>
      <TalkTo NpcId="1030551" XYZ="-703.6088, -245.368, 509.1478" QuestId="69188" StepId="3"/>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 3">
      <GetTo ZoneId="818" XYZ="-498.0663, -250.896, 367.5488"/>
      <TalkTo NpcId="1030552" XYZ="-494.1635, -250.896, 365.7129" QuestId="69188" StepId="3"/>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 3">
      <GetTo ZoneId="818" XYZ="-364.709, -260.1766, 293.7258"/>
      <TalkTo NpcId="1030553" XYZ="-364.2786, -260.1766, 291.0963" QuestId="69188" StepId="3"/>
    </If>
    <If Condition="HasQuest(69188) and not IsQuestCompleted(69188) and GetQuestStep(69188) == 255">
      <GetTo ZoneId="818" XYZ="-631.8526, -288.0688, 250.9897"/>
      <TurnIn QuestId="69188" NpcId="1030554" XYZ="-633.9971, -288.0688, 251.606"/>
    </If>
    <!-- A Greater Purpose (Level 80) -->
    <If Condition="IsQuestCompleted(69188) and not HasQuest(69189) and not IsQuestCompleted(69189)">
      <GetTo ZoneId="818" XYZ="-631.8526, -288.0688, 250.9897"/>
      <If Condition="IsQuestAcceptQualified(69189)">
        <PickupQuest QuestId="69189" NpcId="1030554" XYZ="-633.9971, -288.0688, 251.606"/>
      </If>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 1">
      <GetTo ZoneId="818" XYZ="0.1938559, -276.906, 269.1127"/>
      <TalkTo NpcId="1027772" XYZ="5.386414, -276.906, 271.5953" InteractDistance="8.0" QuestId="69189" StepId="1"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="0.9235325, -276.906, 262.4896"/>
      </If>
      <UseObject NpcId="2010147" XYZ="1.51062, -276.936, 261.6464" QuestId="69189" StepId="2"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 3">
      <GetTo ZoneId="818" XYZ="0.06965434, -276.906, 269.3676"/>
      <TalkTo NpcId="1027772" XYZ="5.386414, -276.906, 271.5953" InteractDistance="8.0" QuestId="69189" StepId="3"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 4">
      <GetTo ZoneId="818" XYZ="314.424, -274.1735, 658.7684"/>
      <HandOver ItemId="2002676" NpcId="1027773" XYZ="316.4568, -274.1735, 653.6506" InteractDistance="8.0" QuestId="69189" StepId="4"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 5">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="286.3062, -274.1735, 671.0741"/>
      </If>
      <UseObject NpcId="2010148" XYZ="285.6946, -272.7856, 672.0225" QuestId="69189" StepId="5"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 6">
      <GetTo ZoneId="818" XYZ="314.3522, -274.1735, 658.7352"/>
      <TalkTo NpcId="1027773" XYZ="316.4568, -274.1735, 653.6506" InteractDistance="8.0" QuestId="69189" StepId="6"/>
    </If>
    <If Condition="HasQuest(69189) and not IsQuestCompleted(69189) and GetQuestStep(69189) == 255">
      <GetTo ZoneId="818" XYZ="-240.5752, -266.0001, 441.9357"/>
      <TurnIn ItemId="2002677" QuestId="69189" NpcId="1030558" XYZ="-241.3215, -266.0001, 444.0833"/>
    </If>
    <!-- Shadowbringers (Level 80) -->
    <If Condition="IsQuestCompleted(69189) and not HasQuest(69190) and not IsQuestCompleted(69190)">
      <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      <If Condition="IsQuestAcceptQualified(69190)">
        <PickupQuest QuestId="69190" NpcId="1030557" XYZ="-244.709, -266.0001, 448.3557"/>
      </If>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 1">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      </If>
      <TalkTo NpcId="1030556" XYZ="-246.2959, -266.0001, 446.1891" QuestId="69190" StepId="1"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 2">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      </If>
      <TalkTo NpcId="1030561" XYZ="-243.3967, -266.0001, 442.4657" QuestId="69190" StepId="2"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 3">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      </If>
      <TalkTo NpcId="1030560" XYZ="-246.0212, -266.0001, 443.4729" QuestId="69190" StepId="3"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 4">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      </If>
      <TalkTo NpcId="1030558" XYZ="-241.3215, -266.0001, 444.0833" QuestId="69190" StepId="4"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 5">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-243.9613, -266.0001, 446.3127"/>
      </If>
      <TalkTo NpcId="1030559" XYZ="-242.6642, -266.0001, 447.837" QuestId="69190" StepId="5"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 6">
      <GetTo ZoneId="818" XYZ="-355.5938, -229.0648, 697.7014"/>
      <TalkTo NpcId="1030562" XYZ="-356.8628, -229.0648, 700.3433" QuestId="69190" StepId="6"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 7">
      <If Condition="not IsOnMap(818)">
        <GetTo ZoneId="818" XYZ="-421.7408, -229.0648, 844.2729"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 9">
      <If Condition="not IsOnMap(847)">
        <GetTo ZoneId="818" XYZ="-423.6298, -229.0648, 856.9341"/>
        <UseTransport InteractDistance="3.0" NpcId="1030575" XYZ="-422.8733, -229.0648, 859.4644"/>
      </If>
		<Dismount />
		<WaitTimer WaitTime="3" />
		<RunCode Name="Coffer" />
		<WaitTimer WaitTime="3" />
		<RunCode Name="AutoEquip"/>
      <RunCode Name="Announce_Manual_Completion"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 11">
      <If Condition="not IsOnMap(844)">
        <GetTo ZoneId="819" XYZ="116.9591, 14.64905, 6.470417"/>
        <UseTransport InteractDistance="3.0" NpcId="1027230" XYZ="117.9979, 14.64903, 7.156433"/>
      </If>
      <TalkTo NpcId="1030576" XYZ="-0.01531982, -7.450581E-09, -6.027344" QuestId="69190" StepId="11"/>
      <WaitWhile Condition="HasQuest(69190) and not IsQuestCompleted(69190) and not GetQuestStep(69190) == 255"/>
    </If>
    <If Condition="HasQuest(69190) and not IsQuestCompleted(69190) and GetQuestStep(69190) == 255">
      <If Condition="IsOnMap(842)">
        <UseTransport InteractDistance="3.0" NpcId="2010599" XYZ="-72.19049, 6.454529, 80.61328"/>
      </If>
      <GetTo ZoneId="156" XYZ="21.99846, 21.25272, -634.2601"/>
      <UseTransport InteractDistance="3.0" NpcId="2002881" XYZ="21.13373, 22.32391, -631.281"/>
      <TurnIn QuestId="69190" NpcId="1031257" XYZ="-2.426208, 7.450581E-09, -9.10968"/>
    </If>
  </Order>
  <GrindAreas>
    <GrindArea Name="68850">
      <Hotspots>
        <Hotspot XYZ="-88.08081, 53.65552, -648.1254" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8578"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="69150">
      <Hotspots>
        <Hotspot XYZ="-403.9846, 24.92054, -206.6773" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8561"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
    <GrindArea Name="69184">
      <Hotspots>
        <Hotspot XYZ="767.079, 449.6789, -684.2198" Radius="120"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="8631"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
	<GrindArea Name="Brood_Ziz">
      <Hotspots>
        <Hotspot XYZ="-239.3125, 57.47225, -93.26726" Radius="90"/>
      </Hotspots>
      <TargetMobs>
        <TargetMob Id="221"/>
      </TargetMobs>
      <MinLevel/>
      <MaxLevel/>
    </GrindArea>
  </GrindAreas>
  <CodeChunks>
    <CodeChunk Name="Profile">
      <![CDATA[ 
        Core.OverlayManager.AddToast(() => "From Patch 5.1 onwards, this profile will assume you can fly.\n Please ensure you are attuned to the Shadowbringers zones.", TimeSpan.FromMilliseconds(5000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
        await Coroutine.Sleep(6000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="Disable_Flight">
      <![CDATA[
        foreach (var plugin in PluginManager.Plugins.Where(p => p.Plugin.Name == "Enable Flight" || p.Plugin.Name == "启用飞行"))
        {
          try
          {
            if (!plugin.Enabled)  {  break;  }  else  {  plugin.Enabled = false;  }
          }
          catch (Exception ex) {  }
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="Announce_Manual_Completion">
      <![CDATA[ 
        Core.OverlayManager.AddToast(() => "Please complete the next quest objective manually.", TimeSpan.FromMilliseconds(25000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
        await Coroutine.Sleep(26000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68815">
      <![CDATA[
        // GetTo can't get to 819 at this point, so move towards the transition point and wait for Cutscene.

        var _loc = new Vector3(541.802f, 8.618705f, 330.2815f);
     
        Navigator.PlayerMover.MoveTowards(_loc);
        while (!QuestLogManager.InCutscene) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68822">
      <![CDATA[
        var _perfume = InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002575);
        await Coroutine.Sleep(10000);
        if (_perfume != null)  {  _perfume.UseItem();  }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68824">
      <![CDATA[
        ChatManager.SendChat("/dance");
        await Coroutine.Sleep(1000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="68839">
      <![CDATA[
        var _princesKiss = InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002531);
        await Coroutine.Sleep(10000);
        if (_princesKiss != null)  {  _princesKiss.UseItem();  }
      ]]>
    </CodeChunk>
    <CodeChunk Name="688402">
      <![CDATA[
        var _loc1 = new Vector3(521.8243f, 21.31617f, 323.1778f);
        var _loc2 = new Vector3(368.7536f, 32.81358f, 234.8884f);
        var _loc3 = new Vector3(179.7396f, 43.70151f, 133.857f);
        var _loc4 = new Vector3(48.23268f, 48.70341f, 53.62906f);
        var _loc5 = new Vector3(-89.40802f, 52.65609f, -26.03757f);
        var _loc6 = new Vector3(-162.3296f, 9.585906f, -81.72881f);

        await Coroutine.Sleep(5000);

        // CommonTasks.TakeOff() wont work here.
        MovementManager.Jump();
        await Coroutine.Sleep(250);
        MovementManager.Jump();		
        
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  } 
    
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 0.5f) {  await Coroutine.Yield();  }
    
        while (ConditionParser.GetQuestStep(68840) == 2)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="688403">
      <![CDATA[
        var _loc1 = new Vector3(-265.2448f, 28.58044f, -119.1186f);
        var _loc2 = new Vector3(-387.3754f, 35.49536f, -134.0133f);
        var _loc3 = new Vector3(-537.0224f, 62.96105f, -160.9717f);
        var _loc4 = new Vector3(-599.6016f, 70.73132f, -171.1624f);
        var _loc5 = new Vector3(-607.4213f, 67.64061f, -164.0321f);
        var _loc6 = new Vector3(-616.9761f, 58.79875f, -155.3741f);

        await Coroutine.Sleep(5000);

        if (!MovementManager.IsFlying)
        {
          // CommonTasks.TakeOff() wont work here.
          MovementManager.Jump();
          await Coroutine.Sleep(250);
          MovementManager.Jump();
        }

        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  } 
    
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
 
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 0.5f) {  await Coroutine.Yield();  }
    
        while (ConditionParser.GetQuestStep(68840) == 3)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68843">
      <![CDATA[
        MovementManager.SetFacing(4.756949f);
        MovementManager.MoveForwardStart();
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        await Coroutine.Sleep(500);
        MovementManager.MoveForwardStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68846">
      <![CDATA[
        await Coroutine.Sleep(1000);
        ChatManager.SendChat("/s Feo Ul");
    
        while (ConditionParser.GetQuestStep(68846) == 1)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }

        // At least make it look like it's a human typing.		
        await Coroutine.Sleep(5000);
        ChatManager.SendChat("/s Please, Feo Ul, I need you");
    
        while (ConditionParser.GetQuestStep(68846) == 2)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }

        // Longer wait on this one.		
        await Coroutine.Sleep(8000);
        ChatManager.SendChat("/s O loveliest of branches, please grant me your succor!");
      ]]>
    </CodeChunk>
    <CodeChunk Name="68849">
      <![CDATA[
        await Coroutine.Sleep(1000);
    
        if (ff14bot.Settings.CharacterSettings.Instance.UseMount)  {  ff14bot.Settings.CharacterSettings.Instance.UseMount = false;  }
        else  { ff14bot.Settings.CharacterSettings.Instance.UseMount = true;  }      
      ]]>
    </CodeChunk>
    <CodeChunk Name="68851">
      <![CDATA[
        var _loc1 = new Vector3(-52.75473f, 108.8309f, -849.7969f);
        var _loc2 = new Vector3(-52.50477f, 110.9332f, -846.3855f);
        var _loc3 = new Vector3(-45.38649f, 110.9302f, -850.7144f);
        var _loc4 = new Vector3(-40.53379f, 112.7251f, -847.2045f);
        var _loc5 = new Vector3(-39.16035f, 114.1619f, -844.1552f);
        var _loc6 = new Vector3(-39.3009f, 115.2815f, -841.8051f);
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 0.5f) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68852">
      <![CDATA[
        var _loc = new Vector3(533.7747f, 109.4174f, -154.8044f);
        var _loc1 = new Vector3(537.673f, 111.6291f, -155.7962f);
        var _loc2 = new Vector3(540.9753f, 113.3808f, -155.477f);
        var _loc3 = new Vector3(544.9641f, 114.9403f, -155.3116f);
        var _loc4 = new Vector3(549.6824f, 117.2716f, -154.7098f);

        if (Core.Me.InCombat)  {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc);
        while (Core.Me.Location.Distance2D(_loc) > 0.5f) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc1);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc4);
        await Coroutine.Sleep(500);
        MovementManager.Jump();
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68853">
      <![CDATA[
        GameObject _target = null;
        int _step = 3;

        if (Core.Me.IsMounted)  {  ActionManager.Dismount();  }

        if (ConditionParser.GetQuestStep(68853) == 3)  {  _target = GameObjectManager.GetObjectByNPCId(1027691);  }
        if (ConditionParser.GetQuestStep(68853) == 4)  {  _step = 4;  _target = GameObjectManager.GetObjectByNPCId(1027692);  }
        if (ConditionParser.GetQuestStep(68853) == 5)  {  _step = 5;  _target = GameObjectManager.GetObjectByNPCId(1027693);  }

        await Coroutine.Sleep(1000);

        _target.Target();

        ChatManager.SendChat("/pet");

        while (ConditionParser.GetQuestStep(68853) == _step)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="68855">
      <![CDATA[
        MovementManager.StartDescending();
        while (!MovementManager.IsDiving)  {  await Coroutine.Yield();  }	
        while (CommonBehaviors.IsLoading)  {  await Coroutine.Yield();  }
        MovementManager.StopDescending();
        await Coroutine.Sleep(1000);
    
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-88.03247f, -41.0285f, -394.6703f);
        var _loc2 = new Vector3(-256.1565f, -44.68527f, -299.1531f);
        var _loc3 = new Vector3(-315.9507f, -51.20992f, -265.1386f);
        var _loc4 = new Vector3(-337.7368f, -52.6399f, -276.0342f);
        var _loc5 = new Vector3(-361.3458f, -51.9763f, -302.1036f);
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
    
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68856">
      <![CDATA[
        if (Core.Me.InCombat)  {  await Coroutine.Yield();  }
      
        if (Core.Me.IsMounted)  { ActionManager.Dismount();  }
        
        var vector3Array = new Vector3[]
        {
          new Vector3(86.41762f, 25.66877f, -98.48716f),
          new Vector3(36.43086f, 36.81553f, -114.6272f),
          new Vector3(-15.15595f, 57.50918f, -130.1993f),
          new Vector3(-12.4832f, 57.5609f, -143.8537f),
          new Vector3(15.22853f, 73.53532f, -177.5079f),
          new Vector3(-8.77778f, 89.31206f, -227.638f),
          new Vector3(-39.72607f, 96.66605f, -244.038f),
          new Vector3(-62.06381f, 105.2942f, -250.6125f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688613">
      <![CDATA[
        GameObject _target = GameObjectManager.GetObjectByNPCId(1029198);
    
        if (Core.Me.IsMounted)  {  ActionManager.Dismount();  }
    
        await Coroutine.Sleep(1000);
    
        _target.Target();
    
        ChatManager.SendChat("/kneel");
      ]]>
    </CodeChunk>
    <CodeChunk Name="688614">
      <![CDATA[
        GameObject _target = null;
        int _count = 0;
    
        if (Core.Me.IsMounted)  {  ActionManager.Dismount();  }

        if (ConditionParser.GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 0)  {  _target = GameObjectManager.GetObjectByNPCId(1030382);  }
        if (ConditionParser.GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 1)  {  _count = 1;  _target = GameObjectManager.GetObjectByNPCId(1027750);  }
        if (ConditionParser.GetQuestById(68861).GetTodoArgs(4, 0).Item1 == 2)  {  _count = 2;  _target = GameObjectManager.GetObjectByNPCId(1027463);  }
    
        await Coroutine.Sleep(1000);
    
        _target.Target();
    
        ChatManager.SendChat("/s allin tuta");
    
        while (ConditionParser.GetQuestById(68861).GetTodoArgs(4, 0).Item1 == _count)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="688682">
      <![CDATA[
        MovementManager.StartDescending();
        while (!MovementManager.IsDiving)  {  await Coroutine.Yield();  }	
        while (CommonBehaviors.IsLoading)  {  await Coroutine.Yield();  }
        MovementManager.StopDescending();
        await Coroutine.Sleep(1000);
    
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-606.0456f, -72.13346f, 351.201f);
        var _loc2 = new Vector3(-593.3831f, -90.30553f, 331.0424f);
        var _loc3 = new Vector3(-592.4348f, -90.94609f, 291.7052f);
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 3) {  await Coroutine.Yield();  }
            
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688683">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-592.1481f, -89.99309f, 331.6848f);
        var _loc2 = new Vector3(-611.4541f, -90.77441f, 381.7081f);
        var _loc3 = new Vector3(-593.7025f, -93.78654f, 407.4443f);
        var _loc4 = new Vector3(-593.3154f, -93.92672f, 433.7951f);
        var _loc5 = new Vector3(-619.3897f, -93.69337f, 449.0387f);
        var _loc6 = new Vector3(-670.2526f, -90.68439f, 449.9427f);       
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 3) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 3) {  await Coroutine.Yield();  }
            
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688684">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-612.2916f, -94.33482f, 449.4829f);
        var _loc2 = new Vector3(-594.0873f, -92.53763f, 422.4884f);
        var _loc3 = new Vector3(-610.4756f, -87.80372f, 364.269f);
        var _loc4 = new Vector3(-681.2765f, -75.68441f, 337.8335f);
        var _loc5 = new Vector3(-744.2791f, -61.84064f, 329.4133f);
        var _loc6 = new Vector3(-782.1358f, -61.35119f, 299.1154f);
        var _loc7 = new Vector3(-825.4297f, -91.46299f, 289.842f);       
        var _loc8 = new Vector3(-880.1556f, -90.68439f, 289.9977f);        
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc7);
        while (Core.Me.Location.Distance2D(_loc7) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc8);
        while (Core.Me.Location.Distance2D(_loc8) > 3) {  await Coroutine.Yield();  }
            
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688685">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-821.1717f, -92.18734f, 289.7068f);
        var _loc2 = new Vector3(-769.3146f, -53.03725f, 295.541f);
        var _loc3 = new Vector3(-638.5355f, -35.95984f, 319.4108f);
        var _loc4 = new Vector3(-597.5676f, -87.49493f, 349.4156f);
        var _loc5 = new Vector3(-590.5588f, -91.33028f, 316.1333f);
        var _loc6 = new Vector3(-602.0067f, -92.64783f, 290.9262f);
        var _loc7 = new Vector3(-593.164f, -95.23157f, 256.0005f);       
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (Core.Me.Location.Distance2D(_loc6) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc7);
        while (Core.Me.Location.Distance2D(_loc7) > 3) {  await Coroutine.Yield();  }       
            
        await CommonTasks.StopAndDismount();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68868255">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-592.29f, -88.55299f, 290.221f);
        var _loc2 = new Vector3(-591.4489f, -90.51643f, 330.3261f);
        var _loc3 = new Vector3(-520.7365f, -0.5999992f, 355.8167f);
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (MovementManager.IsDiving) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68871">
      <![CDATA[
        var _loc = new Vector3(127.5257f, 8.71689f, -427.1265f); 
        
        if (ConditionParser.GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 1)  {  _loc = new Vector3(214.8652f, 8.222549f, -427.2918f);  }        
        if (ConditionParser.GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 2)  {  _loc = new Vector3(216.4697f, 7.063021f, -516.0765f);  }        
        if (ConditionParser.GetQuestById(68871).GetTodoArgs(3, 0).Item1 == 3)  {  _loc = new Vector3(123.1052f, 8.542004f, -508.6006f);  }  

        if (Core.Me.IsMounted)  { ActionManager.Dismount();  }

        while (Core.Me.Location.Distance2D(_loc) > 2)
        {
          Navigator.PlayerMover.MoveTowards(_loc);
          await Coroutine.Sleep(800);
          MovementManager.Jump();
        }
        
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688721">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.MountUp();  }

        var vector3Array = new Vector3[]
        {
          new Vector3(187.9875f, -12.01839f, -560.6951f),
          new Vector3(171.6447f, -7.618909f, -635.1947f),
          new Vector3(163.6709f, -14.88091f, -707.7609f),
          new Vector3(56.24888f, -18.78198f, -708.0459f),
          new Vector3(55.75285f, -18.78254f, -756.5428f),
          new Vector3(1.052492f, -28.78199f, -756.9686f),
          new Vector3(0.7256389f, -28.68945f, -779.1631f),
          new Vector3(17.55755f, -28.90045f, -815.8238f),
          new Vector3(1.322136f, -28.79486f, -836.2879f),       
          new Vector3(2.378944f, -28.78199f, -867.8986f),       
          new Vector3(91.78398f, -8.781985f, -868.863f),      
          new Vector3(102.6963f, -8.781985f, -884.329f),       
          new Vector3(119.9901f, -8.781985f, -890.5149f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688722">
      <![CDATA[
        if (!Core.Me.IsMounted)  { await CommonTasks.MountUp();  }

        var vector3Array = new Vector3[]
        {
          new Vector3(135.6971f, -8.781985f, -884.4702f),
          new Vector3(144.5071f, -8.781985f, -869.3341f),
          new Vector3(165.6126f, -8.781983f, -868.981f),
          new Vector3(175.7367f, -8.781983f, -859.7769f),
          new Vector3(176.4983f, 11.21801f, -722.4253f),
          new Vector3(183.2491f, 11.21801f, -712.1313f),
          new Vector3(217.7906f, 11.20001f, -712.3449f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="688723">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(181.7987f, 11.21801f, -712.3212f),
          new Vector3(176.0095f, 11.21801f, -720.659f),
          new Vector3(176.4096f, 1.218023f, -762.5062f),
          new Vector3(194.3531f, 1.218023f, -775.2605f),
          new Vector3(181.801f, 1.218023f, -794.0653f),
          new Vector3(176.9125f, 1.305836f, -821.2499f),
          new Vector3(175.6824f, -8.781983f, -860.4199f),
          new Vector3(166.3485f, -8.781983f, -866.9102f),
          new Vector3(143.5255f, -8.781985f, -867.6976f),
          new Vector3(119.945f, -8.781985f, -858.3066f),
          new Vector3(109.0106f, -8.781985f, -849.2546f),
          new Vector3(101.6008f, -8.781985f, -852.4489f),
          new Vector3(102.5557f, -8.781985f, -883.3864f),
          new Vector3(113.4033f, -8.781985f, -893.2141f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="68875">
      <![CDATA[
        var _aetherialLamp = InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002554);
        await Coroutine.Sleep(10000);
        if (_aetherialLamp != null)  {  _aetherialLamp.UseItem();  }
      ]]>
    </CodeChunk>
    <CodeChunk Name="69144">
      <![CDATA[
        GameObject _target = GameObjectManager.GetObjectByNPCId(1029608);
        
        await Coroutine.Sleep(1000);
    
        _target.Target();
    
        ChatManager.SendChat("/poke");
    
        while (ConditionParser.GetQuestStep(69144) == 3)
        {
          if (SelectString.IsOpen)  {  SelectString.ClickSlot(1);  }
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
      ]]>
    </CodeChunk>
    <CodeChunk Name="69149">
      <![CDATA[
        var _step = ConditionParser.GetQuestStep(69149);
        var _tooLargeToolBox = InventoryManager.FilledSlots.FirstOrDefault(r => r.RawItemId == 2002559);
        var _cutSceneSelectStringOpen = RaptureAtkUnitManager.GetRawControls.Any(r => r.Name == "CutSceneSelectString");
        
        await Coroutine.Sleep(1000);
        if (_tooLargeToolBox != null)  {  _tooLargeToolBox.UseItem();  }
        
        await Coroutine.Wait(10000, () => QuestLogManager.InCutscene);
      ]]>
    </CodeChunk>	
    <CodeChunk Name="69181">
      <![CDATA[
        var vector3Array = new Vector3[]
        {
          new Vector3(-195.8405f, 1.192093E-07f, -81.81522f),
          new Vector3(-212.5937f, 8.898566f, -83.02216f),
          new Vector3(-211.8621f, 8.898599f, -88.765f),
          new Vector3(-197.1779f, 17.75974f, -87.26595f),
          new Vector3(-197.6884f, 17.75973f, -81.76833f),
          new Vector3(-212.4639f, 26.65731f, -83.30803f),
          new Vector3(-211.8611f, 26.65728f, -88.52416f),
          new Vector3(-196.7749f, 35.56873f, -86.70128f),
          new Vector3(-197.4008f, 35.56873f, -82.18397f),
          new Vector3(-222.9072f, 38.61477f, -86.57802f),
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>

    <CodeChunk Name="69183">
      <![CDATA[
        GameObject _target = null;
        int _count = 0;
    
        MovementManager.StartDescending();
        while (!MovementManager.IsDiving)  {  await Coroutine.Yield();  }	
        while (CommonBehaviors.IsLoading)  {  await Coroutine.Yield();  }
        MovementManager.StopDescending();
        await Coroutine.Sleep(1000);
    
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        var _loc1 = new Vector3(-399.5243f, -60.34532f, 757.6061f);
        var _loc2 = new Vector3(-561.2197f, -41.71218f, 752.642f);
        var _loc3 = new Vector3(-607.604f, -29.31727f, 769.5297f);
        var _loc4 = new Vector3(-632.1794f, -32.72908f, 745.6896f);
        var _loc5 = new Vector3(-687.5753f, -42.37305f, 729.6492f);
        var _loc6 = new Vector3(-638.1636f, -1.974393f, 729.1807f);
 
        Navigator.PlayerMover.MoveTowards(_loc1);
        while (Core.Me.Location.Distance2D(_loc1) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc2);
        while (Core.Me.Location.Distance2D(_loc2) > 1) {  await Coroutine.Yield();  }
        
        Navigator.PlayerMover.MoveTowards(_loc3);
        while (Core.Me.Location.Distance2D(_loc3) > 3) {  await Coroutine.Yield();  }
        
        await CommonTasks.StopAndDismount();
    
        _target = GameObjectManager.GetObjectByNPCId(2010138);
        _target.Target();
        _target.Interact();
    
        while (ConditionParser.GetQuestById(69183).GetTodoArgs(2, 0).Item1 == 0)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
    
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        Navigator.PlayerMover.MoveTowards(_loc4);
        while (Core.Me.Location.Distance2D(_loc4) > 1) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveTowards(_loc5);
        while (Core.Me.Location.Distance2D(_loc5) > 3) {  await Coroutine.Yield();  }
    
        await CommonTasks.StopAndDismount();
    
        _target = GameObjectManager.GetObjectByNPCId(2010137);
        _target.Target();
        _target.Interact();
    
        while (ConditionParser.GetQuestStep(69183) == 2)
        {
          if (Talk.DialogOpen)  {  Talk.Next();  }
          await Coroutine.Yield();
        }
    
        if (!Core.Me.IsMounted)  { await CommonTasks.SummonFlyingMount();  }
    
        Navigator.PlayerMover.MoveTowards(_loc6);
        while (MovementManager.IsDiving) {  await Coroutine.Yield();  }
    
        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>
    <CodeChunk Name="69186">
      <![CDATA[
        GameObject _target = GameObjectManager.GetObjectByNPCId(1030519);
      
        await Coroutine.Sleep(1000);
    
        _target.Target();
    
        ChatManager.SendChat("/psych");
      ]]>
    </CodeChunk>
    <CodeChunk Name="Role_Quests">
      <![CDATA[ 
        Core.OverlayManager.AddToast(() => "If you have not done so, please complete your level 80 Role Quest.\n Restart this profile once completed.", TimeSpan.FromMilliseconds(25000), System.Windows.Media.Color.FromRgb(29,213,226), System.Windows.Media.Color.FromRgb(13,106,175), new System.Windows.Media.FontFamily("Gautami"));
        await Coroutine.Sleep(26000);
      ]]>
    </CodeChunk>
    <CodeChunk Name="69187">
      <![CDATA[    
        if (!Core.Me.IsMounted)  { await CommonTasks.MountUp();  }

        var vector3Array = new Vector3[]
        {
          new Vector3(360.9949f, 301.024f, -270.2376f),
          new Vector3(375.0332f, 302.3947f, -295.8937f),
          new Vector3(347.5286f, 288.169f, -328.5484f),
          new Vector3(339.9171f, 282.4768f, -355.5279f),
          new Vector3(295.5555f, 271.9644f, -357.3546f),
          new Vector3(273.2782f, 259.411f, -321.0667f),
          new Vector3(277.5782f, 251.9542f, -289.098f),
          new Vector3(306.1181f, 242.3637f, -263.6519f),
          new Vector3(332.9348f, 235.6098f, -267.2523f)
        };

        foreach (var loc in vector3Array)
        {
          Navigator.PlayerMover.MoveTowards(loc);
          while (Core.Me.Location.Distance2D(loc) > 0.5f) {  await Coroutine.Yield();  }
        }        

        Navigator.PlayerMover.MoveStop();
      ]]>
    </CodeChunk>	
	  <CodeChunk Name="Summon_Chocobo">
	  <![CDATA[ 
        if(!ChocoboManager.Summoned)
        {
          ChocoboManager.Summon();
          await Coroutine.Sleep(2000);
        }
      ]]>
	  </CodeChunk>
	  <CodeChunk Name="Coffer">
			<![CDATA[		
				foreach (var bagslot in InventoryManager.FilledSlots.Where(bagslot => bagslot.Item.ItemAction == 388))
            {
                bagslot.UseItem();
                await Coroutine.Sleep(5000);
            }
		]]> 
		</CodeChunk>
		<CodeChunk Name="AutoEquip">
            <![CDATA[ 
            var patternFinder = new GreyMagic.PatternFinder(Core.Memory);
            IntPtr agentVtable = patternFinder.Find("48 8D 05 ? ? ? ? C6 43 ? ? 48 89 03 48 8B C3 C7 43 ? ? ? ? ? Add 3 TraceRelative");
            int id = AgentModule.FindAgentIdByVtable(agentVtable);

            AtkAddonControl windowByName = RaptureAtkUnitManager.GetWindowByName("RecommendEquip");

            if (windowByName == null)
            {
                AgentModule.GetAgentInterfaceById(id).Toggle();
            }

            await Coroutine.Wait(10000, () => RaptureAtkUnitManager.GetWindowByName("RecommendEquip") != null);
            
            windowByName = RaptureAtkUnitManager.GetWindowByName("RecommendEquip");
            
            if (windowByName != null)
            {
                windowByName.SendAction(1, 3, 0);
            }
            ]]>
        </CodeChunk>
  </CodeChunks>
</Profile>
